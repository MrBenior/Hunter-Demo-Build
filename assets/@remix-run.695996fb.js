/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}var d;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(d||(d={}));const E="popstate";function j(e){e===void 0&&(e={});function t(n,i){let{pathname:p,search:s,hash:c}=n.location;return v("",{pathname:p,search:s,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:A(i)}return R(t,r,null,e)}function B(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function I(){return Math.random().toString(36).substr(2,8)}function L(e,t){return{usr:e.state,key:e.key,idx:t}}function v(e,t,r,n){return r===void 0&&(r=null),y({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?M(t):t,{state:r,key:t&&t.key||n||I()})}function A(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function M(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function R(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:p=!1}=n,s=i.history,c=d.Pop,u=null,f=g();f==null&&(f=0,s.replaceState(y({},s.state,{idx:f}),""));function g(){return(s.state||{idx:null}).idx}function S(){c=d.Pop;let a=g(),o=a==null?null:a-f;f=a,u&&u({action:c,location:h.location,delta:o})}function H(a,o){c=d.Push;let l=v(h.location,a,o);r&&r(l,a),f=g()+1;let x=L(l,f),w=h.createHref(l);try{s.pushState(x,"",w)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(w)}p&&u&&u({action:c,location:h.location,delta:1})}function b(a,o){c=d.Replace;let l=v(h.location,a,o);r&&r(l,a),f=g();let x=L(l,f),w=h.createHref(l);s.replaceState(x,"",w),p&&u&&u({action:c,location:h.location,delta:0})}function m(a){let o=i.location.origin!=="null"?i.location.origin:i.location.href,l=typeof a=="string"?a:A(a);return l=l.replace(/ $/,"%20"),B(o,"No window.location.(origin|href) available to create URL for href: "+l),new URL(l,o)}let h={get action(){return c},get location(){return e(i,s)},listen(a){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(E,S),u=a,()=>{i.removeEventListener(E,S),u=null}},createHref(a){return t(i,a)},createURL:m,encodeLocation(a){let o=m(a);return{pathname:o.pathname,search:o.search,hash:o.hash}},push:H,replace:b,go(a){return s.go(a)}};return h}var O;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(O||(O={}));function k(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const C=["post","put","patch","delete"];new Set(C);const U=["get",...C];new Set(U);export{d as A,j as c,B as i,M as p,k as s};
