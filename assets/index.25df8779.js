import{j as t,r as m,a as Q}from"./react.720b3139.js";import{c as ke}from"./react-dom.737a38e8.js";import{B as Ne}from"./react-router-dom.aafd8763.js";import{u as je,a as le,P as ye}from"./react-redux.cd7c83d4.js";import{c as L}from"./classnames.708d9799.js";import{c as M,a as N,b as Te}from"./@reduxjs.1d16fd27.js";import{a as H}from"./axios.3ceaec4c.js";import"./base64-js.621b1409.js";import"./scheduler.765c72db.js";import"./react-router.9a8a1a16.js";import"./@remix-run.695996fb.js";import"./use-sync-external-store.21b2ce68.js";import"./node-stdlib-browser.d9cad76e.js";import"./buffer.54dd979c.js";import"./ieee754.44f7831e.js";import"./process.c2387908.js";import"./redux.ea15d17b.js";import"./immer.f14cded8.js";import"./redux-thunk.f771c803.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var re;const R=(re=window.Telegram)==null?void 0:re.WebApp;var q;(s=>{s.IsTelegram=()=>typeof window.Telegram<"u"&&(0,s.GetEncodedInitData)()!=null,s.GetUnsafeInitData=()=>{const n=R==null?void 0:R.initDataUnsafe;return n||(console.warn("[Telegram Web API] Unsafe init data not found, hm"),null)};function e(){var p,l,j,y,f,x,v;const n=(0,s.GetUnsafeInitData)(),r=n==null?void 0:n.start_param;let o=null;if(r){const T=r.match(/^ref_(\d+)$/);T&&(o=T[1])}return{id:(p=n==null?void 0:n.user)==null?void 0:p.id,parentId:o,firstName:(l=n==null?void 0:n.user)==null?void 0:l.first_name,lastName:(j=n==null?void 0:n.user)==null?void 0:j.last_name,username:(y=n==null?void 0:n.user)==null?void 0:y.username,photoUrl:(f=n==null?void 0:n.user)==null?void 0:f.photo_url,countryCode:(x=n==null?void 0:n.user)==null?void 0:x.language_code,isPremium:(v=n==null?void 0:n.user)==null?void 0:v.is_premium,isCheater:!1}}s.GetNewProfilyByUnsafeInitData=e,s.GetEncodedInitData=()=>{const n=R==null?void 0:R.initData;return n||(console.warn("[Telegram Web API] Encoded init data not found"),null)}})(q||(q={}));const $=q,de=()=>le(),D=je,S="https://api.benizon.shop";var Y;(s=>{s.roadmapPath=`${S}/api/tg-hunter/v1/general/content/roadmap`,s.timetickPath=`${S}/api/tg-hunter/v1/general/timetick`,s.createSessionPath=`${S}/api/tg-hunter/v1/auth/user/session/create`,s.refreshSessionPath=`${S}/api/tg-hunter/v1/auth/user/session/refresh`,s.createAccountPath=`${S}/api/tg-hunter/v1/account/user/create`,s.getAccountPath=`${S}/api/tg-hunter/v1/account/user`,s.getReferralsPath=`${S}/api/tg-hunter/v1/account/user/referrals`})(Y||(Y={}));const E=Y,U="accessToken",w="refreshToken",Be={status:"loading",accountStatus:"loading",sessionStatus:"loading",accessToken:localStorage.getItem(U)||null,refreshToken:localStorage.getItem(w)||null},P=M("user/createSession",async({encodedInitData:s})=>{try{const n=(await H.post(E.createSessionPath,{encodedInitData:s})).data;return console.log(`Claimed session data: ${JSON.stringify(n)}`),n||null}catch{throw console.error("First aunthentication failed, something wrong..."),new Error("First authentication step failed")}}),W=M("user/createAccount",async({accessToken:s,newProfile:e})=>{try{const n={id:e==null?void 0:e.id,parentId:e==null?void 0:e.parentId,firstName:e==null?void 0:e.firstName,lastName:e==null?void 0:e.lastName,username:e==null?void 0:e.username,ipAddress:null,isPremium:e==null?void 0:e.isPremium,countryCode:e==null?void 0:e.countryCode,photoUrl:e==null?void 0:e.photoUrl};return(await H.post(E.createAccountPath,{userProfile:n},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data||null}catch{throw console.error(`Failed to create account by data: ${JSON.stringify(e)}`),new Error("Failed to create new profile, something wrong...")}}),J=M("user/refreshSession",async({refreshToken:s})=>{try{const n=(await H.put(E.refreshSessionPath,{},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Claimed refresh session data: ${JSON.stringify(n)}`),n||null}catch(e){throw console.error(`Update session failed, reason: ${e}`),new Error("Update session failed")}}),ue=N({name:"authSession",initialState:Be,reducers:{setAccessToken:(s,e)=>{s.accessToken=e.payload,console.log(`Claimed access token from server: ${s.accessToken}`),localStorage.setItem(U,e.payload)},setRefreshToken:(s,e)=>{s.refreshToken=e.payload,localStorage.setItem(w,e.payload)},clearSession:s=>{localStorage.removeItem(U),localStorage.removeItem(w),s.status="loading",s.accountStatus="loading",s.sessionStatus="loading",s.accessToken=null,s.refreshToken=null}},extraReducers:s=>{s.addCase(P.pending,e=>{e.status="loading"}).addCase(P.fulfilled,(e,n)=>{e.status="succeeded",e.accessToken=n.payload.accessToken,localStorage.setItem(U,n.payload.accessToken)}).addCase(P.rejected,(e,n)=>{e.status="failed",e.error=n.error.message||"Unknown error"}).addCase(W.pending,e=>{e.accountStatus="loading"}).addCase(W.fulfilled,(e,n)=>{const{userProfile:r,refreshToken:o}=n.payload;console.log(`Parsed new user profile: ${JSON.stringify(r)}`),e.refreshToken=o,e.userProfile=r,localStorage.setItem(w,o),e.accountStatus="succeeded"}).addCase(W.rejected,(e,n)=>{e.accountStatus="failed",e.error=n.error.message}).addCase(J.pending,e=>{e.sessionStatus="loading",console.log("Attempting to refresh session...")}).addCase(J.fulfilled,(e,n)=>{const{refreshToken:r}=n.payload;if(e.refreshToken===r){console.warn("Refresh token already updated, skipping refresh...");return}console.log(`Parsed new refreshed session: ${r}`),e.status="succeeded",e.sessionStatus="succeeded",e.accountStatus="succeeded",e.refreshToken=r,localStorage.setItem(w,r)}).addCase(J.rejected,(e,n)=>{e.status="failed",e.sessionStatus="failed",e.accountStatus="failed",e.error=n.error.message,localStorage.removeItem(w),localStorage.removeItem(U),console.error(`Session refresh failed: ${e.error}`)})}}),{setAccessToken:Pn,setRefreshToken:Wn,clearSession:be}=ue.actions,Re=ue.reducer,we=()=>{const s=de();return{authenticateUser:c=>{s(P({encodedInitData:c}))},createUserAccount:(c,p)=>{s(W({accessToken:c,newProfile:p}))},updateUserSession:c=>{s(J({refreshToken:c}))},clearUserSession:()=>{be()}}},Fe="development",$e={id:"development",status:"loading",steps:[{id:1,title:"Loading...",status:"completed"},{id:2,title:"Loading...",status:"completed"},{id:3,title:"Loading...",status:"in-progress"},{id:4,title:"Loading...",status:"in-progress"},{id:5,title:"Loading...",status:"in-progress"},{id:6,title:"Loading...",status:"in-progress"}]},G=M("roadmap/fetchRoadmap",async()=>(await H.get(`${E.roadmapPath}/${Fe}`)).data.roadmap),De=N({name:"roadmap",initialState:$e,reducers:{},extraReducers:s=>{s.addCase(G.pending,e=>{e.status="loading"}).addCase(G.fulfilled,(e,n)=>{e.status="succeeded",e.id=n.payload.id,e.steps=n.payload.steps}).addCase(G.rejected,e=>{e.status="failed"})}}),Ae=De.reducer,pe="/Hunter-Demo-Build/icons/CompleteTask.webp",Ue="checkbox__Dr8IM",Le="finished__N9bxW",Me="checkboxSprite__DlJcB",Z={checkbox:Ue,finished:Le,checkboxSprite:Me},He=({checked:s})=>t.jsx("div",{className:L(Z.checkbox,{[Z.finished]:s}),children:t.jsx("img",{className:Z.checkboxSprite,src:pe,alt:"Checkbox"})}),Ee="/Hunter-Demo-Build/icons/Map.png",Oe="roadmapMap__QIshS",Pe="roadmapMapIcon__--5ye",ee={roadmapMap:Oe,roadmapMapIcon:Pe},We=()=>t.jsx("div",{className:ee.roadmapMap,children:t.jsx("img",{className:ee.roadmapMapIcon,src:Ee,alt:"Roadmap"})}),me="/Hunter-Demo-Build/icons/Friends.webp",Je="referralIcon__5zs-M",Ge="referralIconSprite__hxWb6",te={referralIcon:Je,referralIconSprite:Ge},he=()=>t.jsx("div",{className:te.referralIcon,children:t.jsx("img",{className:te.referralIconSprite,src:me,alt:"Referral Icon"})}),ze="/Hunter-Demo-Build/icons/TelegramIcon.png",Ve="telegramIcon__SbSgx",Ke="telegramIconSprite__sDnP3",se={telegramIcon:Ve,telegramIconSprite:Ke},Xe=()=>t.jsx("div",{className:se.telegramIcon,children:t.jsx("img",{className:se.telegramIconSprite,src:ze,alt:"Telegram Icon"})}),Ze="completeIcon__-p5nO",qe="completeIconSprite__TT3OA",ne={completeIcon:Ze,completeIconSprite:qe},Ye=()=>t.jsx("div",{className:ne.completeIcon,children:t.jsx("img",{className:ne.completeIconSprite,src:pe,alt:"Complete Icon"})}),Qe="buttonsContainer__B-rr6",et="channelButton__XGuLV",tt="referralButton__t08PW",st="referralButtonText__ClE1Q",nt="channelButtonText__8yU2w",at="activeButton__IbRV6",k={buttonsContainer:Qe,channelButton:et,referralButton:tt,referralButtonText:st,channelButtonText:nt,activeButton:at},fe=({buttonData:s,onButtonClick:e})=>{const[n,r]=m.useState(null),o=c=>{r(c),e(c)};return t.jsxs("div",{className:k.buttonsContainer,children:[t.jsxs("button",{className:L(k.channelButton,{[k.activeButton]:n==="channel"}),onClick:()=>o("channel"),children:[Q.createElement(s.channel.icon),t.jsx("span",{className:k.channelButtonText,children:s.channel.text})]}),t.jsxs("button",{className:L(k.referralButton,{[k.activeButton]:n==="referral"}),onClick:()=>o("referral"),children:[Q.createElement(s.referral.icon),t.jsx("span",{className:k.referralButtonText,children:s.referral.text})]})]})},ot="/Hunter-Demo-Build/icons/LeftRock.svg",rt="/Hunter-Demo-Build/icons/RightRock.svg",ct="roadmapPage__PQ2VW",it="roadmapContainer__6jTU5",lt="roadmapMapContent__swb4Z",dt="bounceIn__AH1cZ",ut="lootMapContainer__1KEzj",pt="rocksContainer__Xsd2S",mt="rockLeft__j4zYb",ht="rockRight__XXGng",ft="headerMap__Almsf",gt="titleMap__AJTRM",_t="bottomContainer__GYdj6",xt="roadmapList__oJjUC",vt="roadmapStep__zckjz",It="slideInStep__SeJvn",Ct="finished__IwpZI",St="stepTextContainer__f3wX-",kt="stepTitle__EW8h9",Nt="stepStatus__3y3XN",jt="loadingText__PtHuw",yt="channelButtonText__rl7O-",u={roadmapPage:ct,roadmapContainer:it,roadmapMapContent:lt,bounceIn:dt,lootMapContainer:ut,rocksContainer:pt,rockLeft:mt,rockRight:ht,headerMap:ft,titleMap:gt,bottomContainer:_t,roadmapList:xt,roadmapStep:vt,slideInStep:It,finished:Ct,stepTextContainer:St,stepTitle:kt,stepStatus:Nt,loadingText:jt,channelButtonText:yt},Tt="https://t.me/test_durov_channel",Bt=({onButtonClick:s})=>{const e=le(),{accessToken:n,refreshToken:r,userProfile:o,status:c,accountStatus:p,sessionStatus:l,error:j}=D(h=>h.authUser),{steps:y,status:f}=D(h=>h.roadmap),{authenticateUser:x,createUserAccount:v,updateUserSession:T,clearUserSession:V}=we(),[g,A]=m.useState(null),[_,O]=m.useState(null),B=$.IsTelegram()?$.GetEncodedInitData():null,b=$.IsTelegram()?$.GetNewProfilyByUnsafeInitData():{},K={channel:{icon:Xe,text:"News"},referral:{icon:he,text:"Frens"}},X=h=>{h==="channel"&&window.Telegram.WebApp.openTelegramLink(Tt),h==="referral"&&s()},i=()=>{g&&!n&&!r&&c==="loading"&&(console.warn("User session is loading..."),x(g))},I=()=>{_&&n&&!r&&p==="loading"&&(console.log(`Session successfully created, token: ${n}`),o||(console.warn(`New profile for creation: ${JSON.stringify(_)}`),v(n,_)))},C=()=>{!o&&r&&l==="loading"&&(console.log("Session detected, start updating status..."),T(r))};return m.useEffect(()=>{B&&!g&&(A(B),console.log(`Parsed encoded init data: ${B}`)),b&&!_&&(O(b),console.log(`Parsed user profile entity for create: ${JSON.stringify(b)}`))},[B,b]),m.useEffect(()=>{f==="loading"&&e(G())},[e,f]),m.useEffect(()=>{C()},[r,l,o]),m.useEffect(()=>{n&&r&&l==="failed"&&(console.warn("Detected broken session"),V())},[n,r,l]),m.useEffect(()=>{l==="failed"&&console.warn("Broken session successfully deleted"),i(),I()},[g,_,n,r,c,p,l,o,j,x,v]),t.jsxs("div",{className:u.roadmapPage,children:[t.jsxs("div",{className:u.roadmapContainer,children:[t.jsxs("div",{className:u.roadmapMapContent,children:[t.jsxs("div",{className:u.lootMapContainer,children:[t.jsx(We,{}),t.jsx("span",{className:u.headerMap,children:"ROADMAP"}),t.jsx("span",{className:u.titleMap,children:"Watch the development"})]}),t.jsxs("div",{className:u.rocksContainer,children:[t.jsx("img",{className:u.rockLeft,src:ot,alt:"Left Rock"}),t.jsx("img",{className:u.rockRight,src:rt,alt:"Right Rock"})]})]}),t.jsx("div",{className:u.bottomContainer,children:t.jsx("div",{className:u.roadmapList,children:f==="loading"?t.jsx("div",{className:u.loadingText,children:"Loading..."}):y.map((h,Se)=>t.jsxs("div",{className:L(u.roadmapStep,{[u.finished]:h.status==="completed"}),style:{animationDelay:`${Se*.2}s`},children:[t.jsx(He,{checked:h.status==="completed"}),t.jsxs("div",{className:u.stepTextContainer,children:[t.jsx("div",{className:u.stepTitle,children:h.title}),t.jsx("div",{className:u.stepStatus,children:h.status==="completed"?"Completed":"In progress"})]})]},h.id))})})]}),t.jsx(fe,{buttonData:K,onButtonClick:X})]})},bt={status:"loading",totalAmount:0,referrals:null},z=M("user/social/referrals",async({refreshToken:s})=>{try{const n=(await H.get(`${E.getReferralsPath}/100`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Claimed referrals list: ${JSON.stringify(n)}`),n||null}catch(e){throw console.error(`Failed to load referrals list, reason: ${e}`),new Error(`${e}`)}}),Rt=N({name:"userSocial",initialState:bt,reducers:{},extraReducers:s=>{s.addCase(z.pending,e=>{e.status="loading"}).addCase(z.fulfilled,(e,n)=>{const{totalAmount:r,referrals:o}=n.payload;e.status="succeeded",e.totalAmount=r,e.referrals=o,console.log(`Paarsed total referrals: ${r}, list: ${JSON.stringify(o)}`)}).addCase(z.rejected,(e,n)=>{e.status="failed"})}}),wt=Rt.reducer,Ft=()=>{const s=de();return{getFriends:n=>{s(z({refreshToken:n}))}}},ge="/Hunter-Demo-Build/icons/EmptyAvatarIcon.webp",_e="/Hunter-Demo-Build/icons/DuckIcon.webp",$t="/Hunter-Demo-Build/icons/BowIcon.webp",Dt="/Hunter-Demo-Build/icons/TonIcon.webp",At="header__XNtLc",Ut="lside__J3AU3",Lt="avatar__ZmcK2",Mt="content__8dGl8",Ht="username__IiTNR",Et="lvl__OOh9C",Ot="levelProgress__J6xc-",Pt="progressBar__qh8Ln",Wt="rside__-cscl",Jt="ducksContainer__ajE64",Gt="ducksIcon__9mtxx",zt="ducksBalance__dExE3",Vt="arrowsContainer__rHCKA",Kt="arrowsIcon__O2K3x",Xt="arrowsBalance__e1ZvL",Zt="tonsContainer__jllmI",qt="tonIcon__uLcjo",Yt="tonsBalance__Vp-ZZ",d={header:At,lside:Ut,avatar:Lt,content:Mt,username:Ht,lvl:Et,levelProgress:Ot,progressBar:Pt,rside:Wt,ducksContainer:Jt,ducksIcon:Gt,ducksBalance:zt,arrowsContainer:Vt,arrowsIcon:Kt,arrowsBalance:Xt,tonsContainer:Zt,tonIcon:qt,tonsBalance:Yt};var ce;const Qt=((ce=window.Telegram.WebApp.initDataUnsafe.user)==null?void 0:ce.photo_url)||ge;var ie;const es=((ie=window.Telegram.WebApp.initDataUnsafe.user)==null?void 0:ie.username)||"Developer",ts=()=>{const{userProfile:s}=D(l=>l.authUser),e=D(l=>l.user.balance),n=s==null?void 0:s.firstName,r=s==null?void 0:s.lastName,o=(s==null?void 0:s.username)||es,c=r?`${n} ${r}`:n,p=.15;return t.jsxs("div",{className:d.header,children:[t.jsxs("div",{className:d.lside,children:[t.jsx("div",{className:d.avatar,children:t.jsx("img",{src:Qt,alt:"Telegram Avatar"})}),t.jsxs("div",{className:d.content,children:[t.jsx("p",{className:d.username,children:o||c}),t.jsx("p",{className:d.lvl,children:"lvl 1"}),t.jsx("div",{className:d.levelProgress,children:t.jsx("div",{className:d.progressBar,style:{width:`${p*100}%`}})})]})]}),t.jsxs("div",{className:d.rside,children:[t.jsxs("div",{className:d.ducksContainer,children:[t.jsx("img",{className:d.ducksIcon,src:_e,alt:"Duck Icon"}),t.jsx("span",{className:d.ducksBalance,children:e.ducks})]}),t.jsxs("div",{className:d.arrowsContainer,children:[t.jsx("img",{className:d.arrowsIcon,src:$t,alt:"Bow Icon"}),t.jsx("span",{className:d.arrowsBalance,children:e.arrows})]}),t.jsxs("div",{className:d.tonsContainer,children:[t.jsx("img",{className:d.tonIcon,src:Dt,alt:"Ton Icon"}),t.jsx("span",{className:d.tonsBalance,children:e.ton})]})]})]})},ss="/Hunter-Demo-Build/icons/Copy.webp",ns="/Hunter-Demo-Build/icons/ReferralChest.webp",ae="/Hunter-Demo-Build/icons/PendingStatus.webp",oe="/Hunter-Demo-Build/icons/CompleteStatus.webp",as="referralPage__ozLok",os="referralHeader__94kBa",rs="bounceIn__D-xXM",cs="inviteRewardBox__1AEaS",is="inviteRewardTextContainer__HWXi8",ls="inviteRewardHeaderText__jxuw3",ds="inviteRewardTitleText__B31qV",us="inviteRewardIconContainer__KMTUj",ps="inviteRewardIcon__ejwqm",ms="inviteRewardsInventory__ulsv2",hs="inventoryHeader__q3Uj0",fs="bottomBar__AxuSe",gs="bottomTextContainer__MGUcU",_s="headerFriendList__orjpt",xs="titleFriendList__o-fMp",vs="bottomButtonsContainer__LzFEF",Is="inviteButton__K-2h4",Cs="copyButton__H1tqu",Ss="copyButtonIcon__lTep7",ks="listHeaderContainer__NvO-B",Ns="listHeaderText__z-Ld5",js="listStatusContainer__TSRlF",ys="allFriendsContainer__JNbuB",Ts="verifiedFriendsContainer__4pEbD",Bs="pendingFriendsContainer__udU9k",bs="allFriendsIcon__rO6BO",Rs="verifiedFriendsIcon__Zhmyn",ws="pendingFriendsIcon__J4DNR",Fs="allFriendCount__C8jH2",$s="verifiedFriendCount__Z7fvc",Ds="pendingFriendCount__xogMC",As="friendsList__9Y0Lx",Us="friendItem__PzBHb",Ls="slideInStep__uV1aj",Ms="friendProfile__1kkji",Hs="friendAvatar__aCqBW",Es="friendInfo__IkFE8",Os="friendName__6YQY1",Ps="friendDucks__n8FJg",Ws="friendDucksIcon__tlgb0",Js="friendDucksCounter__uYrxF",Gs="friendStatus__4rl0-",zs="pending__tOsiO",Vs="completed__nKc8y",Ks="highestDucks__8x4zB",a={referralPage:as,referralHeader:os,bounceIn:rs,inviteRewardBox:cs,inviteRewardTextContainer:is,inviteRewardHeaderText:ls,inviteRewardTitleText:ds,inviteRewardIconContainer:us,inviteRewardIcon:ps,inviteRewardsInventory:ms,inventoryHeader:hs,bottomBar:fs,bottomTextContainer:gs,headerFriendList:_s,titleFriendList:xs,bottomButtonsContainer:vs,inviteButton:Is,copyButton:Cs,copyButtonIcon:Ss,listHeaderContainer:ks,listHeaderText:Ns,listStatusContainer:js,allFriendsContainer:ys,verifiedFriendsContainer:Ts,pendingFriendsContainer:Bs,allFriendsIcon:bs,verifiedFriendsIcon:Rs,pendingFriendsIcon:ws,allFriendCount:Fs,verifiedFriendCount:$s,pendingFriendCount:Ds,friendsList:As,friendItem:Us,slideInStep:Ls,friendProfile:Ms,friendAvatar:Hs,friendInfo:Es,friendName:Os,friendDucks:Ps,friendDucksIcon:Ws,friendDucksCounter:Js,friendStatus:Gs,pending:zs,completed:Vs,highestDucks:Ks},Xs="https://t.me/test_tg_hunter_aperbot/hunt",Zs=({onButtonClick:s})=>{const{refreshToken:e,sessionStatus:n}=D(i=>i.authUser),{status:r,totalAmount:o,referrals:c}=D(i=>i.social),{getFriends:p}=Ft(),[l,j]=m.useState([]),[y,f]=m.useState(0),[x,v]=m.useState(0),[T,V]=m.useState(0),g=$.GetUnsafeInitData(),A=g==null?void 0:g.user,_=`${Xs}?startapp=ref_${A==null?void 0:A.id}`,O="Invite your friends to the game during the development phase to get bonuses after launch 🏹",B={channel:{icon:Ye,text:"Map"},referral:{icon:he,text:"Frens"}},b=i=>{i==="channel"&&s()},K=()=>{const i=encodeURIComponent(`
${O}`),C=`https://t.me/share/url?url=${encodeURIComponent(_)}&text=${i}`;if(!$.IsTelegram()){console.warn("App opened outide telegram :O");return}window.Telegram.WebApp.openTelegramLink(C)},X=()=>{const i=`${O}

 ${_}`;navigator.clipboard.writeText(`${i}`)};return m.useEffect(()=>{e&&n==="succeeded"&&r==="loading"&&(console.log("Start fetching friends list..."),p(e))},[n,e,r,o,c]),m.useEffect(()=>{if(c&&r==="succeeded"){j(c);const i=l.filter(C=>C.status==="VERIFIED").length,I=l.filter(C=>C.status==="IN-PROGRESS").length;f(c.length),v(i),V(I)}},[r,c,l]),t.jsxs("div",{className:a.referralPage,children:[t.jsx("div",{className:a.referralHeader,children:t.jsx(ts,{})}),t.jsxs("div",{className:a.inviteRewardBox,children:[t.jsxs("div",{className:a.inviteRewardTextContainer,children:[t.jsx("span",{className:a.inviteRewardHeaderText,children:"Chests"}),t.jsx("span",{className:a.inviteRewardTitleText,children:"Invite friends to receive keys"})]}),t.jsx("div",{className:a.inviteRewardIconContainer,children:t.jsx("img",{className:a.inviteRewardIcon,src:ns,alt:"Referral Chest"})})]}),t.jsx("div",{className:a.inviteRewardsInventory}),t.jsxs("div",{className:a.bottomBar,children:[t.jsxs("div",{className:a.bottomTextContainer,children:[t.jsx("span",{className:a.headerFriendList,children:"Recruits"}),t.jsx("span",{className:a.titleFriendList,children:"Invite your friends NOW and get bonuses AFTER the game launches!"})]}),t.jsxs("div",{className:a.bottomButtonsContainer,children:[t.jsx("button",{className:a.inviteButton,onClick:K,children:"Invite Newbies"}),t.jsx("button",{className:a.copyButton,onClick:X,children:t.jsx("img",{className:a.copyButtonIcon,src:ss,alt:"Copy Icon"})})]}),t.jsxs("div",{className:a.listHeaderContainer,children:[t.jsx("span",{className:a.listHeaderText,children:"Your recruits"}),t.jsxs("div",{className:a.listStatusContainer,children:[t.jsxs("div",{className:a.allFriendsContainer,children:[t.jsx("span",{className:a.allFriendCount,children:y}),t.jsx("img",{className:a.allFriendsIcon,src:me,alt:"All Friends"})]}),t.jsxs("div",{className:a.verifiedFriendsContainer,children:[t.jsx("span",{className:a.verifiedFriendCount,children:x}),t.jsx("img",{className:a.verifiedFriendsIcon,src:oe,alt:"Verified Friends"})]}),t.jsxs("div",{className:a.pendingFriendsContainer,children:[t.jsx("span",{className:a.pendingFriendCount,children:T}),t.jsx("img",{className:a.pendingFriendsIcon,src:ae,alt:"Pending Friends"})]})]})]}),t.jsx("div",{className:a.friendsList,children:l.length>0&&t.jsx("ul",{children:l.slice(0,100).map((i,I)=>t.jsxs("li",{className:L(a.friendItem,{[a.completed]:i.status==="VERIFIED",[a.pending]:i.status==="IN-PROGRESS"}),style:{animationDelay:`${I*.2}s`},children:[t.jsxs("div",{className:a.friendProfile,children:[t.jsx("img",{className:a.friendAvatar,src:i.photoUrl||ge,alt:"Friend Avatar"}),t.jsxs("div",{className:a.friendInfo,children:[t.jsx("div",{className:a.friendName,children:i.username}),t.jsxs("div",{className:a.friendDucks,children:[t.jsx("img",{className:a.friendDucksIcon,src:_e,alt:"Ducks Counter"}),t.jsx("span",{className:a.friendDucksCounter,children:i.ducks})]})]})]}),t.jsx("div",{className:a.friendStatus,children:i.status==="VERIFIED"?t.jsx("img",{src:oe,alt:"Completed"}):t.jsx("img",{src:ae,alt:"Pending"})})]},I))})})]}),t.jsx(fe,{buttonData:B,onButtonClick:b})]})},qs="app__JnT6l",Ys="bgImage__Tgt-X",Qs={app:qs,bgImage:Ys};const en=()=>{const[s,e]=m.useState("roadmap");return t.jsx("div",{className:Qs.app,children:s==="roadmap"?t.jsx(Bt,{onButtonClick:()=>{e("referrals")}}):t.jsx(Zs,{onButtonClick:()=>{e("roadmap")}})})},tn={huntStartModal:!1,perks:!1},xe=N({name:"modals",initialState:tn,reducers:{huntStartModal:(s,e)=>{s.huntStartModal=e.payload},perksModal:(s,e)=>{s.perks=e.payload}}});xe.actions;const sn=xe.reducer,nn={status:"loading",lvl:0,availablePoints:10,hunting:{endTime:0},experience:.01,perks:[{name:"accuracy",lvl:0},{name:"luck",lvl:0},{name:"speed",lvl:0},{name:"stamina",lvl:0}],balance:{ducks:100,arrows:500,ton:75.5}},ve=N({name:"user",initialState:nn,reducers:{setTimer:(s,e)=>{s.hunting.endTime=e.payload},upgradePerk:(s,e)=>{s.availablePoints!==0&&(s.availablePoints=s.availablePoints-1,s.perks[e.payload].lvl++)},updateBalance:(s,e)=>{const n=e.payload.target;s.balance[n]=s.balance[n]+e.payload.value}}});ve.actions;const an=ve.reducer,on="Back",rn="Получить",cn={title:"Охота окончена",text:"Добыча",btn:"Получить"},ln={titles:["short","middle","long"],text1:"Duration",text2:"Ожидаемая добыча",hours:["hours","hours","hours"],ducks:"ducks"},dn={startHuntButton:"Start hunting"},un={perksBtn:"Exp points",lvlText:"Your exp points",experience:{title:"Hunt experience",description:"gives experience for hunting"},list:[{title:"Accuracy",description:"снижает число промахов, повышает добычу уток."},{title:"Luck",description:"снижает число промахов, повышает добычу уток."},{title:"Speed",description:"снижает число промахов, повышает добычу уток."},{title:"Stamina",description:"снижает число промахов, повышает добычу уток."}]},pn={title:"Лавка торговца",text:"Тут вы можете купить товары за TON",sectionTitle:{arrows:"Стрелы",exp:"Очки навыков",nfts:"NFTs"}},mn={types:"subscribe",daily:!0,title:"Daily tasks",description:"Gives experience for hunting"},hn={daily:!0,oneTime:!0},fn={map:"Daily checkup card"},gn={back:on,getReward:rn,huntOverModal:cn,huntStartModal:ln,homepage:dn,perks:un,market:pn,tasks:mn,types:hn,daily:fn},_n=gn,Ie=N({name:"language",initialState:_n,reducers:{changeLanguage:(s,e)=>e.payload}});Ie.actions;const xn=Ie.reducer,vn={huntingResult:null},Ce=N({name:"notification",initialState:vn,reducers:{setHuntingResult:(s,e)=>{s.huntingResult=e.payload}}});Ce.actions;const In=Ce.reducer,Cn=Te({reducer:{modals:sn,user:an,lang:xn,notification:In,roadmap:Ae,authUser:Re,social:wt}}),F=window.Telegram.WebApp;["tdesktop","macos"].includes(F.platform);const Sn=window.Telegram.WebApp.platform==="unknown";!["tdesktop","macos"].includes(F.platform)&&!Sn&&(F.expand(),F.requestFullscreen(),F.disableVerticalSwipes(),F.enableClosingConfirmation());ke.createRoot(document.getElementById("root")).render(t.jsx(ye,{store:Cn,children:t.jsx(Ne,{children:t.jsx(en,{})})}));
