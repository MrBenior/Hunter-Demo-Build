import{r as d,j as t,a as xs}from"./react.a0944564.js";import{R as gs,c as vs}from"./react-dom.1c84a896.js";import{L as _s,B as Cs}from"./react-router-dom.fdf60b98.js";import{u as ws,a as ys,P as js}from"./react-redux.9a58356b.js";import{u as $t,C as ks,a as ut,b as Is,T as bs}from"./@tonconnect.046c1133.js";import{c as P,a as K,b as Ns}from"./@reduxjs.22a387a5.js";import{a as H}from"./axios.68155945.js";import{y as B,L as Ss}from"./react-toastify.d6eb5da1.js";import{c as Xe}from"./classnames.0465d01f.js";import{m as Ce,A as pt}from"./motion.026b30c3.js";import{b as Lt,a as Ts,d as Bs}from"./react-router.fcaedf7f.js";import"./asn1.js.6aa87f69.js";import"./buffer.d6bf1362.js";import"./base64-js.50a5cdf9.js";import"./ieee754.44f7831e.js";import"./inherits.804453d8.js";import"./minimalistic-assert.4cc49674.js";import"./vm-browserify.b6d9eba7.js";import"./scheduler.765c72db.js";import"./@remix-run.055cfd82.js";import"./use-sync-external-store.3e47d494.js";import"./node-stdlib-browser.aee37c56.js";import"./process.df46de55.js";import"./tweetnacl-util.6ceee9ef.js";import"./tweetnacl.e70da2af.js";import"./crypto-browserify.59fb2bf8.js";import"./randombytes.38d3c6ab.js";import"./safe-buffer.43022900.js";import"./create-hash.14df0a33.js";import"./md5.js.10c88db3.js";import"./hash-base.390b9a51.js";import"./stream-browserify.3337c679.js";import"./events.86ccc6d8.js";import"./readable-stream.f892431e.js";import"./util.a2d03604.js";import"./is-arguments.c1996c6b.js";import"./has-tostringtag.624ab649.js";import"./has-symbols.ca8bf092.js";import"./call-bind.3cd8afa3.js";import"./get-intrinsic.52855ce7.js";import"./es-object-atoms.e113afeb.js";import"./es-errors.9813883d.js";import"./math-intrinsics.7c1aecc7.js";import"./gopd.422a9aea.js";import"./es-define-property.3d2d2ae4.js";import"./get-proto.f7f173d5.js";import"./dunder-proto.176a28b9.js";import"./call-bind-apply-helpers.5915da8a.js";import"./function-bind.48f717dc.js";import"./hasown.50f6df09.js";import"./set-function-length.f0530c15.js";import"./define-data-property.0539cb54.js";import"./has-property-descriptors.a9826435.js";import"./is-generator-function.eaa6d5fb.js";import"./which-typed-array.6cb0d468.js";import"./for-each.35b24d25.js";import"./is-callable.7492318c.js";import"./available-typed-arrays.5d384093.js";import"./possible-typed-array-names.ddc71fb6.js";import"./call-bound.ebefd079.js";import"./is-typed-array.5a311861.js";import"./string_decoder.bf386616.js";import"./util-deprecate.99feafae.js";import"./ripemd160.048d9897.js";import"./sha.js.8f738466.js";import"./cipher-base.c38d2c69.js";import"./create-hmac.51579484.js";import"./browserify-sign.a2edc835.js";import"./process-nextick-args.e238b7ed.js";import"./isarray.371036de.js";import"./core-util-is.9859e9da.js";import"./browserify-rsa.e4b07c52.js";import"./bn.js.9d2b20da.js";import"./elliptic.395ff67a.js";import"./minimalistic-crypto-utils.6f869a51.js";import"./brorand.cdeb5ad0.js";import"./hash.js.ef544ec7.js";import"./hmac-drbg.1985756e.js";import"./parse-asn1.291a164b.js";import"./evp_bytestokey.223624d2.js";import"./browserify-aes.9de9d526.js";import"./buffer-xor.c9a51e68.js";import"./pbkdf2.f27015b4.js";import"./to-buffer.adf05e7c.js";import"./typed-array-buffer.d44e0c88.js";import"./browserify-cipher.4e99444e.js";import"./browserify-des.f608fc3d.js";import"./des.js.1b8e437c.js";import"./diffie-hellman.42261bff.js";import"./miller-rabin.c967f57d.js";import"./create-ecdh.69ce2709.js";import"./public-encrypt.f4ad4b36.js";import"./randomfill.5b2b6fba.js";import"./ua-parser-js.0e9c0a35.js";import"./deepmerge.288b68f5.js";import"./redux.ea15d17b.js";import"./immer.f14cded8.js";import"./redux-thunk.f771c803.js";import"./clsx.0839fdbe.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const le=()=>{const s=d.useRef(!1),e=window.Telegram.WebApp,n=["tdesktop","macos"].includes(e.platform),o=window.Telegram.WebApp.platform==="unknown",r=!n&&!o,a=e.isFullscreen;d.useEffect(()=>{!e||!r||s.current||(c(),i(),l(),p(),m(),s.current=!0)},[e,s,n,o]);const c=()=>{e&&e.ready()},i=()=>{e&&e.expand()},l=()=>{e&&e.requestFullscreen()},h=()=>{e&&e.enableVerticalSwipes()},p=()=>{e&&e.disableVerticalSwipes()},m=()=>{e&&e.enableClosingConfirmation()};return{isTelegram:!!e&&!o,isOutsideTelegram:o,isDesktopPlatform:n,isMobilePlatform:r,isFullscreenRequested:a,expand:i,requestFullscreen:l,enableClosingConfirmation:m,disableClosingConfirmation:()=>{e&&e.disableClosingConfirmation()},enableVerticalSwiped:h,disableVerticalSwipes:p}},U=()=>ws(),C=ys,Ke=()=>{const{accessToken:s,refreshToken:e,status:n,sessionStatus:o,accountStatus:r,error:a}=C(c=>c.authUser);return{accessToken:s,refreshToken:e,authStatus:n,sessionStatus:o,accountStatus:r,error:a,isAuthenticated:!!s&&!!e}},L="https://api.benifun.tech",R="/api/tg-hunter/v1";var ct;(s=>{s.huntsConfigsPath=`${L}${R}/user/gameplay/hunts`,s.dailyStreakConfigsPath=`${L}${R}/statistics/daily-streak`,s.shopItemsPath=`${L}${R}/statistics/purchasable-items`,s.timetickPath=`${L}${R}/general/timetick`,s.createSessionPath=`${L}${R}/auth/user/session/create`,s.refreshSessionPath=`${L}${R}/auth/user/session/refresh`,s.createAccountPath=`${L}${R}/account/user/create`,s.playerAccountPath=`${L}${R}/account/user`,s.startHuntPath=`${L}${R}/user/gameplay/hunt/start`,s.activeHuntsPath=`${L}${R}/user/gameplay/hunts/active`,s.getDailyRewardStatusPath=`${L}${R}/user/daily-reward/status`,s.getDailyRewardPath=`${L}${R}/user/daily-reward`,s.getTonChestRewardPath=`${L}${R}/user/social/ton/reward`,s.hunterSkillsConfigPath=`${L}${R}/user/gameplay/skills/config`,s.hunterSkillsPath=`${L}${R}/user/gameplay/skills`,s.massiveSkillsUpgradePath=`${L}${R}/user/gameplay/skills/upgrade`,s.huntersLeadeboardPath=`${L}${R}/statistics/leaderboard`,s.updatingTonWalletPath=`${L}${R}/user/ton/wallet/update`,s.validationTonTransactionPath=`${L}${R}/user/ton/transaction/validate`,s.tonTransactionStatusPath=`${L}${R}/user/ton/transaction/status`,s.getHuntStatusPath=e=>`${L}${R}/user/gameplay/hunt/${e}/status`,s.getReferralsProfilesPath=e=>`${L}${R}/account/user/referrals/${e}`,s.getRoadmapPath=e=>`${L}${R}/general/content/roadmap/${e}`,s.getUpgradeSkillPath=(e,n)=>`${L}${R}/user/gameplay/skill/${e}/${n}/upgrage`,s.getCreateTonTransactionPath=e=>`${L}${R}/user/ton/transaction/${e}/create`})(ct||(ct={}));const A=ct,$s={huntStatus:"idle",streakStatus:"idle",productsStatus:"idle",huntTypes:null,dailyStreak:null,shopProducts:null},Ie=P("config/fetchHuntTypes",async({refreshToken:s})=>{try{return(await H.get(A.huntsConfigsPath,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data.huntTypes||null}catch(e){throw console.error(`❌ Load hunts configs failed, reason: ${e}`),new Error("Failed to load hunts configs")}}),be=P("config/fetchDailyStreak",async({refreshToken:s})=>{try{return(await H.get(A.dailyStreakConfigsPath,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data.dailyStreak||null}catch(e){throw console.error(`❌ Load daily streaks failed, reason: ${e}`),new Error("Failed to load daily streaks")}}),Ne=P("config/shop/products",async({refreshToken:s})=>{try{return(await H.get(A.shopItemsPath,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data.purchasableItems||null}catch(e){throw console.error(`Load shop products failed, reason: ${e}`),new Error("Load shop products failed")}}),Ls=K({name:"gameConfig",initialState:$s,reducers:{},extraReducers:s=>{s.addCase(Ie.pending,e=>{e.huntStatus="loading",console.log("⏳ Pending requiest to load hunts presets")}).addCase(Ie.fulfilled,(e,n)=>{e.huntStatus="succeeded",e.huntTypes=n.payload,console.log("✅ Successfully loaded hunts presets")}).addCase(Ie.rejected,(e,n)=>{e.huntStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Load hunts presets failed")}).addCase(be.pending,e=>{e.streakStatus="loading",console.log("⏳ Pending requiest to load daily streaks")}).addCase(be.fulfilled,(e,n)=>{e.streakStatus="succeeded",e.dailyStreak=n.payload,console.log("✅ Successfully loaded streaks presets")}).addCase(be.rejected,(e,n)=>{e.streakStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Load streaks presets failed")}).addCase(Ne.pending,e=>{e.productsStatus="loading",console.log("⏳ Pending requiest to load shop products")}).addCase(Ne.fulfilled,(e,n)=>{e.productsStatus="succeeded",e.shopProducts=n.payload,console.log("✅ Successfully loaded shop products")}).addCase(Ne.rejected,(e,n)=>{e.streakStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Load shop products failed")})}}),Rs=Ls.reducer,Ps=s=>{const e=U(),{refreshToken:n,accountStatus:o}=Ke(),{dailyStreak:r,huntTypes:a,shopProducts:c,streakStatus:i,huntStatus:l,productsStatus:h,error:p}=C(g=>g.gameConfig),m=d.useRef({streak:!1,hunts:!1,products:!1}),u=o==="succeeded"&&s&&!!n,x=!m.current.streak&&i!=="succeeded",f=!m.current.hunts&&l!=="succeeded",v=!m.current.products&&h!=="succeeded";return d.useEffect(()=>{!u||p||(x&&!r&&(e(be({refreshToken:n})),m.current.streak=!0),f&&!a&&(e(Ie({refreshToken:n})),m.current.hunts=!0),v&&!c&&e(Ne({refreshToken:n})))},[u,x,f,v,m,r,a,c,p]),{huntTypes:a,dailyStreak:r,shopProducts:c,huntStatus:l,streakStatus:i,productsStatus:h,error:p,isLoaded:l==="succeeded"&&i==="succeeded"&&h==="succeeded"}};var Bt;const ae=(Bt=window.Telegram)==null?void 0:Bt.WebApp;var it;(s=>{s.IsTelegram=()=>typeof window.Telegram<"u"&&(0,s.GetEncodedInitData)()!=null,s.GetEncodedInitData=()=>(ae==null?void 0:ae.initData)||"query_id=AAHacOUrAAAAANpw5SvCZvV7&user=%7B%22id%22%3A736456922%2C%22first_name%22%3A%22Mr%22%2C%22last_name%22%3A%22Veit%22%2C%22username%22%3A%22MrVeit%22%2C%22language_code%22%3A%22ru%22%2C%22is_premium%22%3Atrue%2C%22allows_write_to_pm%22%3Atrue%2C%22photo_url%22%3A%22https%3A%5C%2F%5C%2Ft.me%5C%2Fi%5C%2Fuserpic%5C%2F320%5C%2FkHEHvcqBDQz8-7hxmczRHHio9dWTTmaBg37PVJmU7eg.svg%22%7D&auth_date=1752605228&signature=Qu7N31fpBuV4A45YV7QrCflcGkTR598SbUHfgtOOF8ePr98NFq45ug3fgn5se7sfvuyi8YwXTlEUiIPapy7ZAA&hash=a9dd53eac653fe4872357bea85d3900b7d5f1a17eb7ac7347933f4b4fb5ae6be",s.GetUnsafeInitData=()=>(ae==null?void 0:ae.initDataUnsafe)||null,s.GetUserProfile=()=>{const n=(0,s.GetUnsafeInitData)();return(n==null?void 0:n.user)||null},s.GetUsername=()=>{const n=(0,s.GetUserProfile)();return(n==null?void 0:n.username)||null},s.GetNameOrUsername=()=>{const n=(0,s.GetUsername)(),o=(0,s.GetFullName)();return n||o},s.GetFullName=()=>{const n=(0,s.GetUserProfile)(),o=n==null?void 0:n.first_name,r=(n==null?void 0:n.last_name)||null;return r?`${o} ${r}`:o},s.GetAvatarUrl=()=>{const n=(0,s.GetUserProfile)();return(n==null?void 0:n.photo_url)||null};function e(){const n={id:7011940758,parentId:null,first_name:"Satoshi Nakamoto",last_name:null,language_code:"ru",photo_url:"https://t.me/i/userpic/320/kHEHvcqBDQz8-7hxmczRHHio9dWTTmaBg37PVJmU7eg.svg",is_premium:!0},o=(0,s.GetUnsafeInitData)(),r=(0,s.GetUserProfile)()||n,a=o==null?void 0:o.start_param;let c=null;if(a){const l=a.match(/^ref_(\d+)$/);l&&(c=l[1])}return{id:r==null?void 0:r.id,parentId:c,firstName:r==null?void 0:r.first_name,lastName:(r==null?void 0:r.last_name)||null,username:(r==null?void 0:r.username)||null,photoUrl:(r==null?void 0:r.photo_url)||null,countryCode:r==null?void 0:r.language_code,isPremium:(r==null?void 0:r.is_premium)||!1}||n}s.GetNewProfilyByUnsafeInitData=e})(it||(it={}));const we=it,fe="accessToken",ie="refreshToken",Hs={status:"loading",accountStatus:"loading",sessionStatus:"loading",accessToken:localStorage.getItem(fe)||null,refreshToken:localStorage.getItem(ie)||null},Se=P("user/createSession",async({encodedInitData:s})=>{try{return(await H.post(A.createSessionPath,{encodedInitData:s})).data||null}catch(e){throw console.error(`❌ First authentication failed, reason: ${e}`),new Error("First authentication step failed")}}),Te=P("user/createAccount",async({accessToken:s,newProfile:e})=>{try{const n={id:e==null?void 0:e.id,parentId:e==null?void 0:e.parentId,firstName:e==null?void 0:e.firstName,lastName:e==null?void 0:e.lastName,username:e==null?void 0:e.username,ipAddress:null,isPremium:e==null?void 0:e.isPremium,countryCode:e==null?void 0:e.countryCode,photoUrl:e==null?void 0:e.photoUrl};return(await H.post(A.createAccountPath,{userProfile:n},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data||null}catch(n){throw console.error(`❌ Create account with internal data failed, data: ${JSON.stringify(e)}, reason: ${n}`),new Error("Create account with internal data failed")}}),Be=P("user/refreshSession",async({refreshToken:s})=>{try{return(await H.put(A.refreshSessionPath,{},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data||null}catch(e){throw console.error(`❌ Update session failed, reason: ${e}`),new Error("Update session failed")}}),Rt=K({name:"authSession",initialState:Hs,reducers:{setAccessToken:(s,e)=>{s.accessToken=e.payload,localStorage.setItem(fe,e.payload)},setRefreshToken:(s,e)=>{s.refreshToken=e.payload,localStorage.setItem(ie,e.payload)},clearSession:s=>{localStorage.removeItem(fe),localStorage.removeItem(ie),s.status="loading",s.accountStatus="loading",s.sessionStatus="loading",s.accessToken=null,s.refreshToken=null}},extraReducers:s=>{s.addCase(Se.pending,e=>{e.status="loading"}).addCase(Se.fulfilled,(e,n)=>{e.status="succeeded",e.accessToken=n.payload.accessToken,localStorage.setItem(fe,n.payload.accessToken)}).addCase(Se.rejected,(e,n)=>{e.status="failed",e.error=n.error.message||"Unknown error"}).addCase(Te.pending,e=>{e.accountStatus="loading"}).addCase(Te.fulfilled,(e,n)=>{const{userProfile:o,refreshToken:r}=n.payload;e.refreshToken=r,e.userProfile=o,localStorage.setItem(ie,r),e.accountStatus="succeeded",console.log("✅ User successful authorized")}).addCase(Te.rejected,(e,n)=>{e.accountStatus="failed",e.error=n.error.message,console.error("❌ User authorization failed")}).addCase(Be.pending,e=>{e.sessionStatus="loading",console.log("⏳ Attempting to refresh session...")}).addCase(Be.fulfilled,(e,n)=>{const{refreshToken:o}=n.payload;if(e.refreshToken===o){console.warn("⚠️ Refresh token already updated, skipping refresh...");return}e.status="succeeded",e.sessionStatus="succeeded",e.accountStatus="succeeded",e.refreshToken=o,localStorage.setItem(ie,o),console.log("✅ User session sucessfully updated")}).addCase(Be.rejected,(e,n)=>{e.status="loading",e.accountStatus="loading",e.sessionStatus="failed",e.error=n.error.message||"Unknown error",e.accessToken=null,e.refreshToken=null,localStorage.removeItem(ie),localStorage.removeItem(fe),console.error(`❌ Session refresh failed: ${e.error}`)})}}),{setAccessToken:Xh,setRefreshToken:Kh,clearSession:As}=Rt.actions,Ds=Rt.reducer,Ms=()=>{const s=U();return{authenticateUser:a=>{s(Se({encodedInitData:a}))},createUserAccount:(a,c)=>{s(Te({accessToken:a,newProfile:c}))},updateUserSession:a=>{s(Be({refreshToken:a}))},clearUserSession:()=>{s(As())}}},Us=(s={})=>{const{autoCreateSession:e=!0,autoCreateAccount:n=!0,autoRefresh:o=!0,autoClearOnFail:r=!0}=s,{accessToken:a,refreshToken:c,userProfile:i,error:l,status:h,accountStatus:p,sessionStatus:m}=C(te=>te.authUser),{authenticateUser:u,createUserAccount:x,updateUserSession:f,clearUserSession:v}=Ms(),[g,_]=d.useState(null),[k,I]=d.useState(null),[S,w]=d.useState(!1),O=d.useRef(!1),G=d.useRef(!1),ee=we.GetEncodedInitData(),Q=we.GetNewProfilyByUnsafeInitData();return d.useEffect(()=>{ee&&!g&&_(ee),Q&&!k&&I(Q)},[ee,Q]),d.useEffect(()=>{o&&c&&m==="loading"&&!i&&!G.current&&(G.current=!0,f(c))},[o,c,m,i]),d.useEffect(()=>{r&&m==="failed"&&!c&&!a&&!S&&(v(),O.current=!1,w(!0))},[r,m,c,a]),d.useEffect(()=>{e&&g&&!a&&!c&&h==="loading"&&u(g)},[e,g,a,c,h]),d.useEffect(()=>{n&&a&&!c&&k&&p==="loading"&&!O.current&&(x(a,k),O.current=!0)},[n,a,c,k,p]),{authStatus:h,sessionStatus:m,accountStatus:p,accessToken:a,refreshToken:c,userProfile:i}},Fs={profileStatus:"loading",perksStatus:"loading",profile:null,perks:null,perksConfig:null,progress:null},$e=P("user/fetchProfile",async({refreshToken:s})=>{try{return(await H.get(A.playerAccountPath,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data.userProfile||null}catch(e){throw console.error(`❌ Load user profile failed, reason: ${e}`),new Error("Load user profile failed")}}),Le=P("user/hunter/skills/config",async({refreshToken:s})=>{try{const n=(await H.get(A.hunterSkillsConfigPath,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded skills config: ${JSON.stringify(n)}`),n.skillsConfig||null}catch(e){throw console.error(`❌ Fetch skills config failed, reason: ${e}`),new Error(`${e}`)}}),Re=P("user/hunters/base/skills",async({refreshToken:s})=>{try{const n=(await H.get(A.hunterSkillsPath,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded hunter skills: ${JSON.stringify(n)}`),n.hunterSkills||null}catch(e){throw console.error(`❌ Fetch hunter skills failed, reason: ${e}`),new Error(`${e}`)}}),Pe=P("user/hunters/base/skills/upgrade",async({upgradeSkills:s,refreshToken:e})=>{try{const o=(await H.put(A.massiveSkillsUpgradePath,{upgradedSkills:s},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded upgraded skills data: ${JSON.stringify(s)}`),o.upgradedSkills||null}catch(n){throw console.error(`❌ Upgrade hunter skills failed, reason: ${n}`),new Error(`${n}`)}}),He=P("user/hunters/base/skill/upgrade",async({targetSkill:s,refreshToken:e})=>{const{type:n,amount:o}=s,r=A.getUpgradeSkillPath(n,o);try{return(await H.put(r,{},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data.upgradedSkill||null}catch(a){throw console.error(`❌ Upgrade target hunter skill failed, reason: ${a}`),new Error(`${a}`)}}),Pt=K({name:"user",initialState:Fs,reducers:{clearProfile:s=>{s.profileStatus="loading",s.profile=null,s.error=void 0},updateProgress:(s,e)=>{s.profile&&(s.profile.gameProfile=e.payload)},updateInventory:(s,e)=>{s.profile&&(s.profile.inventory=e.payload)},updateSkills:(s,e)=>{!s.profile||!s.perks||(s.perks=e.payload)},updateTonProfile:(s,e)=>{!s.profile||!s.profile.tonProfile||(s.profile.tonProfile=e.payload)},setTonVerifyStatus:(s,e)=>{!s.profile||!s.profile.tonProfile||(s.profile.tonProfile.isVerified=e.payload)},increasePoint:(s,e)=>{!s.profile||!s.profile.gameProfile||(s.profile.gameProfile.upgradePoints+=e.payload)},decreasePoint:(s,e)=>{!s.profile||!s.profile.gameProfile||(s.profile.gameProfile.upgradePoints-=e.payload)}},extraReducers:s=>{s.addCase($e.pending,e=>{e.profileStatus="loading",console.log("⏳ Pending request to load user account")}).addCase($e.fulfilled,(e,n)=>{e.profileStatus="succeeded",e.profile=n.payload,console.log("✅ User profile successfully loaded")}).addCase($e.rejected,(e,n)=>{e.profileStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Request user account failed")}).addCase(Re.pending,e=>{e.perksStatus="loading",console.log("⏳ Pending request to load hunter skills")}).addCase(Re.fulfilled,(e,n)=>{e.perksStatus="succeeded",e.perks=n.payload,console.log("✅ Hunter skills successfully loaded")}).addCase(Re.rejected,(e,n)=>{e.perksStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Request hunter skills failed")}).addCase(Le.pending,e=>{e.perksStatus="loading",console.log("⏳ Pending request to load skills config")}).addCase(Le.fulfilled,(e,n)=>{e.perksStatus="succeeded",e.perksConfig=n.payload,console.log("✅ Skills config successfully loaded")}).addCase(Le.rejected,(e,n)=>{e.perksStatus="failed",e.error=n.error.message||"Unknown error",console.log("❌ Fetch skills config failed")}).addCase(Pe.pending,e=>{e.perksStatus="loading",console.log("⏳ Pending request to upgrade hunter skills")}).addCase(Pe.fulfilled,(e,n)=>{e.perksStatus="succeeded",e.perks=n.payload.updatedPerks,e.progress=n.payload.upgradedProgress,console.log("✅ Hunter skills successfully upgraded")}).addCase(Pe.rejected,(e,n)=>{e.perksStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Upgrade hunter skills failed")}).addCase(He.pending,e=>{e.perksStatus="loading",console.log("⏳ Pending request ot upgrade targer hunter skill")}).addCase(He.fulfilled,(e,n)=>{e.perksStatus="succeeded",e.perks=n.payload.updatedPerks,e.progress=n.payload.upgradedProgress,console.log("✅ Hunter target skill successfully upgraded")}).addCase(He.rejected,(e,n)=>{e.perksStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Upgrade target hunter skill failed")})}}),{clearProfile:Yh,updateProgress:ht,updateInventory:mt,updateTonProfile:Es,updateSkills:Vs,setTonVerifyStatus:Os,increasePoint:Ws,decreasePoint:qs}=Pt.actions,Zs=Pt.reducer,de=s=>{const e=U(),{refreshToken:n,accountStatus:o}=C(D=>D.authUser),{profile:r,perks:a,perksConfig:c,profileStatus:i,perksStatus:l,error:h}=C(D=>D.user),p=d.useRef({profile:!1,perks:!1,perksConfig:!1}),u=o==="succeeded"&&(s&&!!n),x=!p.current.profile&&i!=="succeeded",f=!p.current.perks&&l!=="succeeded",v=!p.current.perksConfig&&l!=="succeeded",g=i==="succeeded",_=l==="succeeded",k=d.useCallback(()=>{n&&e(Le({refreshToken:n}))},[e,n]),I=d.useCallback(()=>{n&&e(Re({refreshToken:n}))},[e,n]),S=d.useCallback(()=>{n&&e($e({refreshToken:n}))},[e,n]),w=d.useCallback(D=>{n&&e(He({targetSkill:D,refreshToken:n}))},[e,n]),O=d.useCallback(async D=>{n&&await e(Pe({upgradeSkills:D,refreshToken:n}))},[e,n]),G=d.useCallback(D=>{e(ht(D))},[e]),ee=d.useCallback(D=>{e(mt(D))},[e]),Q=d.useCallback(D=>{e(Vs(D))},[e]),te=d.useCallback(D=>{e(Ws(D))},[e]),pe=d.useCallback(D=>{e(qs(D))},[e]);return d.useEffect(()=>{!u||h||(x&&!r&&(S(),p.current.profile=!0),f&&!a&&(I(),p.current.perks=!0),v&&!c&&(k(),p.current.perksConfig=!0))},[u,x,f,r,a,h]),{isProfileReady:g,isPerksLoaded:_,profileStatus:i,perksStatus:l,addNewProgress:G,addNewInventory:ee,addNewHunterSkills:Q,increaseUpgradePoints:te,decreaseUpgradePoints:pe,getProfile:S,getHunterSkills:I,getSkillsConfig:k,updateTargetSkill:w,updateHunterSkills:O}},zs={status:"loading",leaderboardStatus:"loading",tonRewardStatus:"idle",totalAmount:0,pendingAmount:0,verifiedAmount:0,referrals:null,leaderboard:null,tonReferralReward:null},Ae=P("user/events/leaderboard/active",async({refreshToken:s})=>{try{const n=(await H.get(A.huntersLeadeboardPath,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded active leaderboard: ${JSON.stringify(n)}`),n.leaderboard||null}catch(e){throw console.error(`Load active leaderboard failed, reason: ${e}`),new Error("Failed to load active leaderboard")}}),De=P("user/social/referrals",async({refreshToken:s})=>{try{const n=(await H.get(`${A.getReferralsProfilesPath(100)}`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Claimed referrals list: ${JSON.stringify(n)}`),n||null}catch(e){throw console.error(`Failed to load referrals list, reason: ${e}`),new Error(`${e}`)}}),Me=P("user/social/referrals/ton/reward",async({refreshToken:s})=>{const e=A.getTonChestRewardPath;try{const o=(await H.get(e,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Claimed ton referral reward: ${JSON.stringify(o)}`),o.referralReward||null}catch(n){throw console.error(`Failed to get ton referral reward, reason: ${n}`),new Error(`${n}`)}}),Gs=K({name:"userSocial",initialState:zs,reducers:{},extraReducers:s=>{s.addCase(De.pending,e=>{e.status="loading",console.log("⏳ Pending request to load friends list")}).addCase(De.fulfilled,(e,n)=>{const{totalAmount:o,pendingAmount:r,verifiedAmount:a,referrals:c}=n.payload;e.status="succeeded",e.totalAmount=o,e.verifiedAmount=a,e.pendingAmount=r,e.referrals=c,console.log("✅ Friends list successfully loaded")}).addCase(De.rejected,(e,n)=>{e.status="failed",e.error=n.error.message||"Unknown error",console.error("❌ Load friends list failed")}).addCase(Ae.pending,e=>{e.leaderboardStatus="loading",console.log("⏳ Pending request to load active leaderboard...")}).addCase(Ae.fulfilled,(e,n)=>{e.leaderboardStatus="succeeded",e.leaderboard=n.payload,console.log("✅ Active leaderboard successfully loaded")}).addCase(Ae.rejected,(e,n)=>{e.leaderboardStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Load active leaderboard failed")}).addCase(Me.pending,e=>{e.tonRewardStatus="loading",console.log("⏳ Pending request to get ton referral reward...")}).addCase(Me.fulfilled,(e,n)=>{e.tonRewardStatus="succeeded",e.tonReferralReward=n.payload,console.log("✅ Claimed ton referral reward")}).addCase(Me.rejected,(e,n)=>{e.tonRewardStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Get ton referral reward failed")})}}),Js=Gs.reducer,Ye=s=>{const e=U(),{refreshToken:n,accountStatus:o}=Ke(),{leaderboardStatus:r,tonRewardStatus:a,leaderboard:c,tonReferralReward:i,error:l}=C(_=>_.social),h=C(_=>{var k;return(k=_.user.profile)==null?void 0:k.tonProfile}),p=d.useRef(!1),m=d.useRef(0),u=o==="succeeded"&&s&&!!n,x=!p.current&&r!=="succeeded",f=()=>{n&&e(De({refreshToken:n}))},v=()=>{n&&e(Ae({refreshToken:n}))},g=d.useCallback(()=>{n&&(m.current=B.loading("Opening Ton chest..."),e(Me({refreshToken:n})).unwrap().then(_=>{B.update(m.current,{render:"Ton chest opened",type:"success",isLoading:!1,autoClose:3e3});const k=_.updatedInventory,I=_.updatedProgress,S={isVerified:(h==null?void 0:h.isVerified)||!1,wallet:(h==null?void 0:h.wallet)||null,chestKeys:_.totalKeys};e(Es(S)),_.updatedInventory?e(mt(k)):_.updatedProgress&&e(ht(I))}).catch(_=>{B.update(m.current,{render:"Open Ton chest failed",type:"error",isLoading:!1,autoClose:3e3})}))},[e,n]);return d.useEffect(()=>{!u||l||x&&!c&&(v(),p.current=!0)},[u,x,p,c,l]),{leaderboardStatus:r,tonRewardStatus:a,leaderboard:c,tonReferralReward:i,isLeaderboardLoaded:r==="succeeded",isLeaderboardRequested:p.current,getFriends:f,getLeaderboard:v,getTonReferralReward:g}},Ht=d.createContext(void 0),Xs={newHuntStatus:"loading",activeHuntStatus:"loading",activeHunts:null,lastFinishedHunt:null},Ue=P("user/events/hunt/start",async({huntType:s,refreshToken:e})=>{try{const o=(await H.post(A.startHuntPath,{huntTypeId:s},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded created hunt: ${JSON.stringify(o)}`),o.newHunt||null}catch(n){throw console.error(`Start new hunt failed, reason: ${n}`),new Error(`${n}`)}}),ge=P("user/events/hunt/active",async({refreshToken:s})=>{try{const n=(await H.get(A.activeHuntsPath,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded active hunts: ${JSON.stringify(n)}`),n.activeHunts||null}catch(e){throw console.error(`Load active hunts failed, reason: ${e}`),new Error(`${e}`)}}),Fe=P("user/events/hunt/status",async({huntId:s,refreshToken:e})=>{try{const o=(await H.get(A.getHuntStatusPath(s),{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded hunt status by id: ${s}, data: ${JSON.stringify(o)}`),o.huntStatus||null}catch(n){throw console.error(`Load hunt status by id: ${s} failed, reason: ${n}`),new Error(`${n}`)}}),At=K({name:"huntSystem",initialState:Xs,reducers:{clearLastHunt:s=>{s.lastFinishedHunt=null}},extraReducers:s=>{s.addCase(Ue.pending,e=>{e.newHuntStatus="loading",console.log("⏳ Pending request to start new hunt...")}).addCase(Ue.fulfilled,(e,n)=>{var o;e.newHuntStatus="succeeded",(o=e.activeHunts)==null||o.push(n.payload),console.log("✅ New hunt successfully started")}).addCase(Ue.rejected,(e,n)=>{e.newHuntStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Start new hunt failed")}).addCase(ge.pending,e=>{e.activeHuntStatus="loading",console.log("⏳ Pending request to load active hunts...")}).addCase(ge.fulfilled,(e,n)=>{e.activeHuntStatus="succeeded",e.activeHunts=n.payload,console.log("✅ Active hunts successfully loaded")}).addCase(ge.rejected,(e,n)=>{e.activeHuntStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Load active hunts failed")}).addCase(Fe.pending,e=>{e.activeHuntStatus="loading",console.log("⏳ Pending request to load target hunt status...")}).addCase(Fe.fulfilled,(e,n)=>{e.activeHuntStatus="succeeded",e.lastFinishedHunt=n.payload.status==="COMPLETED"?n.payload:null,console.log("✅ Target hunt status successfully loaded")}).addCase(Fe.rejected,(e,n)=>{e.activeHuntStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Load target hunt status failed")})}}),{clearLastHunt:Ks}=At.actions,Ys=At.reducer,Dt=s=>{const e=U(),n=d.useRef(!1),{refreshToken:o}=C(f=>f.authUser),{newHuntStatus:r,activeHuntStatus:a,activeHunts:c,lastFinishedHunt:i,error:l}=C(f=>f.huntSystem),h=(c==null?void 0:c[0])||null,p=d.useCallback(f=>{o&&e(Ue({huntType:f,refreshToken:o})).unwrap().then(()=>{B.success("New hunt started"),e(ge({refreshToken:o}))}).catch(v=>{console.error(`Failed to start new hunt by type '${f}', reason: ${v}`),B.error("New hunt failed to start")})},[e,o]),m=d.useCallback(()=>{if(console.log(`IsRequested: ${n.current}, refresh token: ${!!o}`),!o||n.current)return;const f=c&&c.length>0,v=["loading","failed"].includes(a);s&&v&&!f&&(n.current=!0,e(ge({refreshToken:o})))},[e,s,a,c,o]),u=d.useCallback(f=>{o&&e(Fe({huntId:f,refreshToken:o}))},[e,o]),x=d.useCallback(()=>{e(Ks()),n.current=!1},[e]);return{currentHunt:h,activeHuntStatus:a,newHuntStatus:r,activeHunts:c,lastFinishedHunt:i,errorMessage:l,activeHuntsRequested:a==="succeeded"&&c&&c.length>0||a==="failed"&&(!c||c.length===0),startHunt:p,loadActiveHunts:m,checkHuntStatus:u,clearHuntResult:x}},Qs=s=>{const{currentHunt:e,checkHuntStatus:n,lastFinishedHunt:o,clearHuntResult:r,...a}=Dt(s),c=d.useRef(null),i=d.useRef(!1),[l,h]=d.useState(null);return d.useEffect(()=>{if(!(e!=null&&e.finishAt))return;const p=()=>{const m=Math.floor(Date.now()/1e3),x=Number(e.finishAt)-m;x<=0?(c.current&&(clearInterval(c.current),c.current=null),h(null),i.current||(i.current=!0,n(e.id),setTimeout(()=>{i.current=!1},1e3))):h(x)};return p(),c.current&&clearInterval(c.current),c.current=setInterval(p,1e3),()=>clearInterval(c.current)},[e,n]),d.useEffect(()=>{if(!(o!=null&&o.huntResults))return;const p=setTimeout(()=>{r()},1e3);return()=>clearTimeout(p)},[o,r]),{...a,currentHunt:e,timeLeft:l,lastFinishedHunt:o,clearHuntResult:r}},en=({children:s,isAuthenticated:e})=>{const n=Qs(e),o=d.useMemo(()=>n,[n]);return t.jsx(Ht.Provider,{value:o,children:s})},Mt=d.createContext(void 0),tn={unreadByRoute:{"/":!1,"/index.html":!1,"/frens":!1,"/leaderboard":!1,"/tasks":!1,"/wallet":!1}},Ut=K({name:"notificationBar",initialState:tn,reducers:{setNotify:(s,e)=>{s.unreadByRoute[e.payload]=!0},clearNotify:(s,e)=>{s.unreadByRoute[e.payload]=!1}}}),{setNotify:sn,clearNotify:Ft}=Ut.actions,nn=Ut.reducer,on={activeRewardStatus:"loading",streakStatus:"loading",dailyStreak:null},ve=P("user/events/dailyReward/status",async({refreshToken:s})=>{const e=A.getDailyRewardStatusPath;try{const o=(await H.get(e,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded current daily reward status: ${JSON.stringify(o)}`),o.dailyRewardStatus||null}catch(n){throw console.error(`Load current daily reward status failed, reason: ${n}`),new Error(`${n}`)}}),Ee=P("user/events/dailyReward",async({refreshToken:s})=>{const e=A.getDailyRewardPath;try{const o=(await H.get(e,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded current daily reward: ${JSON.stringify(o)}`),o.dailyReward||null}catch(n){throw console.error(`Load current daily reward failed, reason: ${n}`),new Error(`${n}`)}}),rn=K({name:"dailySystem",initialState:on,reducers:{},extraReducers:s=>{s.addCase(ve.pending,e=>{e.activeRewardStatus="loading",console.log("⏳ Pending request to load daily reward status...")}).addCase(ve.fulfilled,(e,n)=>{e.activeRewardStatus="succeeded",e.dailyStreak=n.payload,console.log("✅ Current daily reward status successfully loaded")}).addCase(ve.rejected,(e,n)=>{e.activeRewardStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Load current daily reward status failed")}).addCase(Ee.pending,e=>{e.streakStatus="loading",console.log("⏳ Pending request to load daily reward...")}).addCase(Ee.fulfilled,(e,n)=>{e.streakStatus="succeeded",e.dailyStreak=n.payload,console.log("✅ Daily reward successfully loaded")}).addCase(Ee.rejected,(e,n)=>{e.streakStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Load daily reward failed")})}}),an=rn.reducer,Et=s=>{const e=U(),n=d.useRef(!1),{refreshToken:o}=C(u=>u.authUser),{activeRewardStatus:r,streakStatus:a,dailyStreak:c,error:i}=C(u=>u.dailySystem),l=C(u=>u.gameConfig.dailyStreak),h=()=>{if(!l)return 0;let u=Number(c==null?void 0:c.totalStreak);const x=l[l.length-1];if(!(u>x.dayId)){const v=l.find(g=>g.dayId===u);return Number(v==null?void 0:v.amount)}return x.amount},p=d.useCallback(()=>{o&&s&&e(Ee({refreshToken:o})).unwrap().then(()=>{n.current=!1,console.log("Reward successfully claimed"),B.success("Daily reward claimed"),e(Ft("/tasks")),e(ve({refreshToken:o}))}).catch(u=>{console.warn(`Daily reward unavailable, reason: ${u}`),B.warn("Daily reward unavailable")})},[e,a,c,c==null?void 0:c.reward,o]),m=d.useCallback(()=>{!o||n.current||s&&(n.current=!0,e(ve({refreshToken:o})))},[e,r,c,o]);return{streakStatus:a,activeRewardStatus:r,dailyStreak:c,availableReward:h(),errorMessage:i,isClaimedDailyReward:a==="succeeded"&&(c==null?void 0:c.reward),dailyStreakRequested:!!(r==="succeeded"&&c)||r==="failed"&&!c,streakCheckRequested:!!(a==="succeeded"&&c)||a==="failed"&&!c,loadActiveDailyReward:m,checkDailyRewardStatus:p}},cn=s=>{const e=U(),{dailyStreak:n,dailyStreakRequested:o,isClaimedDailyReward:r,availableReward:a,checkDailyRewardStatus:c,loadActiveDailyReward:i}=Et(s),[l,h]=d.useState(null),[p,m]=d.useState(null),u=d.useRef(null),x=()=>{const f=Math.ceil((Number(l)-Date.now())/1e3);if(f<=0){clearInterval(u.current),u.current=null,m(null),e(sn("/tasks"));return}m(f)};return d.useEffect(()=>{if((n==null?void 0:n.secondUntilNext)!=null&&!(n!=null&&n.reward)){h(Date.now()+n.secondUntilNext*1e3);return}h(null),m(null)},[n==null?void 0:n.secondUntilNext,n==null?void 0:n.reward]),d.useEffect(()=>{if(l==null){u.current&&(clearInterval(u.current),u.current=null);return}return x(),u.current&&clearInterval(u.current),u.current=setInterval(x,1e3),()=>{clearInterval(u.current),u.current=null}},[l,c,e]),{dailyStreak:n,availableReward:a,timeLeft:p,isRequested:o,isClaimed:r,checkDailyRewardStatus:c,loadActiveDailyReward:i}},ln=({children:s,isAuthenticated:e})=>{const n=cn(e),o=d.useMemo(()=>n,[n]);return t.jsx(Mt.Provider,{value:o,children:s})},Vt=d.createContext(void 0),dn={status:"idle",requestTransactionStatus:"idle",profile:null,wallet:null},Ve=P("ton/wallet/update",async({refreshToken:s,newWallet:e})=>{const n=A.updatingTonWalletPath;try{const r=(await H.put(n,{wallet:e},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded updated ton profile: ${JSON.stringify(r)}`),r.tonProfile||null}catch(o){throw console.error(`Update wallet data failed, reason: ${o}`),new Error(`${o}`)}}),Oe=P("ton/transaction/create",async({refreshToken:s,productId:e})=>{const n=A.getCreateTonTransactionPath(e);try{const r=(await H.post(n,{},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded new transaction payload: ${JSON.stringify(r)}`),r.transactionData||null}catch(o){throw console.error(`Create new ton transaction failed, reason: ${o}`),new Error(`${o}`)}}),We=P("ton/transaction/validate",async({refreshToken:s,productId:e,Boc:n})=>{const o=A.validationTonTransactionPath;try{const a=(await H.put(o,{sendedTransaction:{productId:e,Boc:n}},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded transaction data: ${JSON.stringify(a)}`),a.transactionHash||null}catch(r){throw console.error(`Validate ton transaction failed, reason: ${r}`),new Error(`${r}`)}}),qe=P("ton/transaction/status",async({refreshToken:s,transactionId:e})=>{const n=A.tonTransactionStatusPath;try{const r=(await H.put(n,{transactionId:e},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;return console.log(`Loaded transaction status: ${JSON.stringify(r)}`),r.transactionStatus||null}catch(o){throw console.error(`Get ton transaction status failed, reason: ${o}`),new Error(`${o}`)}}),un=K({name:"tonModule",initialState:dn,reducers:{},extraReducers:s=>{s.addCase(Ve.pending,e=>{e.status="loading",console.log("⏳ Pending requiest to update wallet")}).addCase(Ve.fulfilled,(e,n)=>{e.status="succeeded",e.profile=n.payload,e.wallet=n.payload.wallet,console.log("✅ Wallet successfully updated")}).addCase(Ve.rejected,(e,n)=>{e.status="failed",e.error=n.error.message||"Unknown error",console.error("❌ Update wallet failed")}).addCase(Oe.pending,e=>{e.requestTransactionStatus="loading",console.log("⏳ Pending requiest to create new ton transaction")}).addCase(Oe.fulfilled,(e,n)=>{e.requestTransactionStatus="succeeded",e.lastTransactionPayload=n.payload,console.log("✅ New ton transaction payload created")}).addCase(Oe.rejected,(e,n)=>{e.requestTransactionStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Create new ton transaction failed")}).addCase(We.pending,e=>{e.requestTransactionStatus="loading",console.log("⏳ Pending requiest to validate ton transaction")}).addCase(We.fulfilled,(e,n)=>{e.requestTransactionStatus="succeeded",e.lastTransactionHash=String(n.payload),console.log("✅ Ton transaction validated")}).addCase(We.rejected,(e,n)=>{e.requestTransactionStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Validate ton transaction failed")}).addCase(qe.pending,e=>{e.requestTransactionStatus="loading",console.log("⏳ Pending requiest to fetch ton transaction status")}).addCase(qe.fulfilled,(e,n)=>{e.requestTransactionStatus="succeeded",e.completedTransactionPayload=n.payload;const o=n.payload.updatedTonProfile||null;o&&(e.profile=o,e.wallet=o.wallet),console.log("✅ Ton transaction confirmed")}).addCase(qe.rejected,(e,n)=>{e.requestTransactionStatus="failed",e.error=n.error.message||"Unknown error",console.error("❌ Complete ton transaction failed")})}}),pn=un.reducer,hn=(s,e)=>{var re;const n=U(),[o,r]=d.useState(!1),{refreshToken:a}=C(b=>b.authUser),{status:c,requestTransactionStatus:i,wallet:l,profile:h,lastTransactionHash:p,lastTransactionPayload:m,completedTransactionPayload:u,error:x}=C(b=>b.tonModule),f=C(b=>b.user.profile),v=c==="succeeded"&&l||!1,g=i==="succeeded"&&m&&!p||!1,_=i==="succeeded"&&p&&u==null||!1,k=i==="succeeded"&&p&&u!==null||!1,I=d.useRef(!1),S=d.useRef(!1),w=d.useRef(0),O=$t(),G=e.connected||O&&((re=e.account)==null?void 0:re.address),ee=async(b=!1,T=!0)=>{if(b&&T){I.current=!1,S.current=!1,await e.disconnect(),B.success("Wallet disconnected");return}await e.openModal(),I.current=!0,S.current=!1},Q=d.useCallback(b=>{a&&n(Ve({refreshToken:a,newWallet:b}))},[n,a]),te=d.useCallback((b,T=()=>{})=>{if(a){if(!e.connected){B.warning("Wallet not connected");return}n(Oe({refreshToken:a,productId:b})).unwrap().then($=>{et(b,$,T)}).catch($=>{console.error(`Transaction send failed, reason: ${$.message}`),B.error("Transation send failed")})}},[n,a]),pe=d.useCallback((b,T)=>{a&&n(We({refreshToken:a,productId:b,Boc:T})).unwrap().then($=>{w.current=B.loading("Transaction pending, wait..."),D($)}).catch($=>{console.error(`Failed to validate transaction, reason: ${$}`),B.error("Transaction confirm failed")})},[n,a]),D=d.useCallback((b,T=3)=>{a&&n(qe({refreshToken:a,transactionId:b})).unwrap().then($=>{$.updatedTonProfile?n(Os(!0)):$.updatedProgress?(console.warn("Old profile progress: ",f==null?void 0:f.gameProfile),console.warn("New profile progress: ",$.updatedProgress),n(ht($.updatedProgress))):$.updatedInventory&&(console.warn("Old profile inventory: ",f==null?void 0:f.inventory),console.warn("New profile inventory: ",$.updatedInventory),n(mt($.updatedInventory))),B.update(w.current,{render:"Transaction confirmed!",type:"success",isLoading:!1,autoClose:3e3}),console.log(`Transaction confirmed with payload: ${JSON.stringify($)}`)}).catch($=>{T>1?setTimeout(()=>D(b,T-1),1e4):(console.error(`Failed to confirm ton transaction '${b}', reason: ${$}`),B.update(w.current,{render:"Transaction not found",type:"error",isLoading:!1,autoClose:3e3}))})},[n,a]);function et(b,T,$=()=>{}){B.success("Transaction created");const ms={validUntil:T.validUntil,network:ks.MAINNET,messages:T.messages};e.sendTransaction(ms).then(he=>{const fs=he.boc;B.success("Transaction sent"),pe(b,fs)}).catch(he=>{$(),console.error(`Failed to send transaction, reason: ${he==null?void 0:he.message}`),B.error("Transaction failure")})}return d.useEffect(()=>{if(!G||!I.current||S.current)return;const b=e.wallet,T=b==null?void 0:b.account,$={appName:String(b==null?void 0:b.device.appName),address:String(T==null?void 0:T.address),publicKey:String(T==null?void 0:T.publicKey),stateInit:String(T==null?void 0:T.walletStateInit)};Q($),I.current=!1,S.current=!0},[e.connected,e.wallet]),d.useEffect(()=>{!l||!v||v&&!o&&r(!0)},[c,l]),{wallet:l,profile:h,lastTransactionHash:p,lastTransactionPayload:m,completedTransactionPayload:u,errorMessage:x,walletStatus:c,requestTransactionStatus:i,isWalletUpdateRequested:v,isTransactionCreated:g,isTransactionSended:_,isTransactionConfirmed:k,connectWallet:ee,updateWallet:Q,createTransaction:te}},mn=({children:s,isAuthenticated:e})=>{const[n]=ut(),o=hn(e,n),r=d.useMemo(()=>o,[o]);return t.jsx(Vt.Provider,{value:r,children:s})},j=xs.memo(({src:s,className:e,alt:n,loadingType:o,onError:r,...a})=>t.jsx("img",{src:s,className:e,alt:n,loading:o,onError:r,...a})),fn="/Hunter-Demo-Build/icons/AtlasIcon.webp",xn="atlasIcon__-DmQs",gn={atlasIcon:xn},vn=()=>t.jsx("div",{className:gn.atlasIcon,children:t.jsx(j,{src:fn,alt:"Atlas Icon"})}),_n="/Hunter-Demo-Build/icons/BoostIcon.webp",Cn="boostIcon__133-T",wn={boostIcon:Cn},yn={white:"invert(0%) brightness(100%)",black:"invert(100%) brightness(100%)",disabled:"brightness(0) opacity(35%)"},Ot=({color:s="white"})=>t.jsx("div",{className:wn.boostIcon,children:t.jsx(j,{src:_n,alt:"Boost Icon",style:{filter:yn[s]}})}),jn="/Hunter-Demo-Build/icons/BowIcon.webp",kn="bowIcon__wnsuT",In={bowIcon:kn},oe=()=>t.jsx("div",{className:In.bowIcon,children:t.jsx(j,{src:jn,alt:"Bow Icon"})}),Wt="/Hunter-Demo-Build/icons/CompleteTask.webp";const bn="completeIcon__-3rIH",Nn={completeIcon:bn},qt=()=>t.jsx("div",{className:Nn.completeIcon,children:t.jsx(j,{src:Wt,alt:"Complete Icon"})}),Sn="/Hunter-Demo-Build/icons/CrosshairIcon.webp";const Tn="/Hunter-Demo-Build/icons/DuckIcon.webp",Bn="duckIcon__0xYKb",$n={duckIcon:Bn},ue=()=>t.jsx("div",{className:$n.duckIcon,children:t.jsx(j,{src:Tn,alt:"Duck Icon"})});const ft="/Hunter-Demo-Build/icons/HuntIcon.webp",Ln="huntIcon__KC-L8",Rn={huntIcon:Ln},Pn=()=>t.jsx("div",{className:Rn.huntIcon,children:t.jsx(j,{src:ft,alt:"Hunt Icon"})});const Hn="timeIcon__eU5hZ",An={timeIcon:Hn},Dn="/Hunter-Demo-Build/icons/TimeIcon.webp",Zt=()=>t.jsx("div",{className:An.timeIcon,children:t.jsx(j,{src:Dn,alt:"Time Icon"})}),Mn="coloredIcon__0Imhl",Un={coloredIcon:Mn},Fn=()=>t.jsx("div",{className:Un.coloredIcon,children:t.jsx(Zt,{})});const En="/Hunter-Demo-Build/icons/PlusIcon.webp",Vn="plusIcon__f4crr",On={plusIcon:Vn},Wn=()=>t.jsx("div",{className:On.plusIcon,children:t.jsx(j,{src:En,alt:"Plus Icon"})}),qn="/Hunter-Demo-Build/icons/PostamentIcon.webp",Zn="postamentIcon__QFTre",zn={postamentIcon:Zn},Gn=()=>t.jsx("div",{className:zn.postamentIcon,children:t.jsx(j,{src:qn,alt:"Postament Icon"})}),Jn="/Hunter-Demo-Build/icons/Friends.webp",Xn="referralIcon__Fh3SX",Kn={referralIcon:Xn},Yn=()=>t.jsx("div",{className:Kn.referralIcon,children:t.jsx(j,{src:Jn,alt:"Referral Icon"})});const Qn="/Hunter-Demo-Build/icons/SpeedIcon.webp";const eo="/Hunter-Demo-Build/icons/OneSkillPoint.webp",to="skillPoint__bWRDg",so={skillPoint:to},no=()=>t.jsx("div",{className:so.skillPoint,children:t.jsx(j,{src:eo,alt:"One Skill Point Icon"})}),oo="/Hunter-Demo-Build/icons/TwoSkillPoints.webp",ro="skillPoints__Evi8b",ao={skillPoints:ro},co=()=>t.jsx("div",{className:ao.skillPoints,children:t.jsx(j,{src:oo,alt:"Two Skill Points Icon"})}),io="/Hunter-Demo-Build/icons/ThreeSkillPoints.webp",lo="skillPointMore__XB1hQ",uo={skillPointMore:lo},po=()=>t.jsx("div",{className:uo.skillPointMore,children:t.jsx(j,{src:io,alt:"Three Skill Points Icon"})}),ho="/Hunter-Demo-Build/icons/MoreSkillPoints.webp",mo="skillPointsOverMore__wQykz",fo={skillPointsOverMore:mo},zt=()=>t.jsx("div",{className:fo.skillPointsOverMore,children:t.jsx(j,{src:ho,alt:"More Skill Points Icon"})}),xo="/Hunter-Demo-Build/icons/OneArrowsPack.webp",go="oneArrowsPack__3QkEH",vo={oneArrowsPack:go},_o=()=>t.jsx("div",{className:vo.oneArrowsPack,children:t.jsx(j,{src:xo,alt:"One Arrows Pack Icon"})}),Co="/Hunter-Demo-Build/icons/ThreeArrowsPacks.webp",wo="threeArrowsPacks__253sH",yo={threeArrowsPacks:wo},jo=()=>t.jsx("div",{className:yo.threeArrowsPacks,children:t.jsx(j,{src:Co,alt:"Three Arrows Pack Icon"})}),ko="/Hunter-Demo-Build/icons/FourArrowsPacks.webp",Io="fourArrowsPacks__CSouc",bo={fourArrowsPacks:Io},No=()=>t.jsx("div",{className:bo.fourArrowsPacks,children:t.jsx(j,{src:ko,alt:"Four Arrows Packs Icon"})});const So="/Hunter-Demo-Build/icons/TonIcon.webp",To="tonIcon__4a89p",Bo={tonIcon:To},$o=()=>t.jsx("div",{className:Bo.tonIcon,children:t.jsx(j,{src:So,alt:"Ton Icon"})}),Lo="/Hunter-Demo-Build/icons/TonsAndArrows.webp",Ro="tonsAndArrows__dY6y9",Po={tonsAndArrows:Ro},Ho=()=>t.jsx("div",{className:Po.tonsAndArrows,children:t.jsx(j,{src:Lo,alt:"Tons And Arrows Icon"})}),Ao="/Hunter-Demo-Build/icons/UnionIcon.webp";const Do="/Hunter-Demo-Build/icons/ReferralChest.webp",Mo="chestIcon__KkIKN",Uo={chestIcon:Mo},Fo=()=>t.jsx("div",{className:Uo.chestIcon,children:t.jsx(j,{src:Do,alt:"Chest Icon"})}),Eo="/Hunter-Demo-Build/icons/CopyIcon.webp",Vo="copyIcon__QheSH",Oo={copyIcon:Vo},Wo=()=>t.jsx("div",{className:Oo.copyIcon,children:t.jsx(j,{src:Eo,alt:"Copy Icon"})}),Gt="/Hunter-Demo-Build/icons/PendingStatus.webp",qo="pendingStatusIcon__6RaXZ",Zo={pendingStatusIcon:qo},Jt=()=>t.jsx("div",{className:Zo.pendingStatusIcon,children:t.jsx(j,{src:Gt,alt:"Pending Status Icon"})}),Xt="/Hunter-Demo-Build/icons/CompleteStatus.webp",zo="completeStatusIcon__3nwhu",Go={completeStatusIcon:zo},Jo=()=>t.jsx("div",{className:Go.completeStatusIcon,children:t.jsx(j,{src:Xt,alt:"Complete Status Icon"})}),Xo="/Hunter-Demo-Build/icons/CloseIcon.webp",Ko="closeIcon__X6X-F",Yo={closeIcon:Ko},Kt=()=>t.jsx("div",{className:Yo.closeIcon,children:t.jsx(j,{src:Xo,alt:"Close Icon"})}),Qo="/Hunter-Demo-Build/icons/ChestTon.webp",er="chestTon__pTmLn",tr={chestTon:er},Ze=()=>t.jsx("div",{className:tr.chestTon,children:t.jsx(j,{src:Qo,alt:"Ton Icon Blue"})}),sr="/Hunter-Demo-Build/icons/BlueTonIcon.webp",nr="tonIconBlue__iduU4",or={tonIconBlue:nr},ze=()=>t.jsx("div",{className:or.tonIconBlue,children:t.jsx(j,{src:sr,alt:"Ton Icon Blue"})}),rr="/Hunter-Demo-Build/icons/ForestBlue.webp",ar="forestBlue__W-inp",cr={forestBlue:ar},ir=()=>t.jsx("div",{className:cr.forestBlue,children:t.jsx(j,{src:rr,alt:"Blue Hunter Icon"})}),lr="/Hunter-Demo-Build/icons/KeyTonIcon.webp",dr="keyTon__n8IiA",ur={keyTon:dr},pr=()=>t.jsx("div",{className:ur.keyTon,children:t.jsx(j,{src:lr,alt:"Blue Key Icon"})}),hr="/Hunter-Demo-Build/icons/LockTonIcon.webp",mr="lockTon__I9CfE",fr={lockTon:mr},tt=()=>t.jsx("div",{className:fr.lockTon,children:t.jsx(j,{src:hr,alt:"Blue Lock Icon"})}),xr="/Hunter-Demo-Build/icons/PartyEmojiIcon.webp",gr="partyIcon__y56X5",vr={partyIcon:gr},Ct=()=>t.jsx("div",{className:vr.partyIcon,children:t.jsx(j,{src:xr,alt:"Party Emoji"})}),_r="/Hunter-Demo-Build/icons/ForestBackground.webp",Cr="forestScreen__qiWKx",wr={forestScreen:Cr},yr=()=>t.jsx(j,{src:_r,className:wr.forestScreen,alt:"Menu Background"}),jr="/Hunter-Demo-Build/icons/WoodBackground.webp",kr="woodBackground__F78lx",Ir={woodBackground:kr},Yt=({classname:s})=>t.jsx(j,{className:s||Ir.woodBackground,src:jr,alt:"Wood Background"}),br="patternWrapper__lDkK5",Nr="icon__HgA-d",st={patternWrapper:br,icon:Nr,"pattern-position-1":"pattern-position-1__Iv287","pattern-position-2":"pattern-position-2__M5XyT","pattern-position-3":"pattern-position-3__shhul","pattern-position-4":"pattern-position-4__uirPd","pattern-position-5":"pattern-position-5__CR7LH","pattern-position-6":"pattern-position-6__nBtxE"},Sr=["pattern-position-1","pattern-position-2","pattern-position-3","pattern-position-4","pattern-position-5","pattern-position-6"],Qe=({icon:s})=>t.jsx("div",{className:st.patternWrapper,children:Sr.map((e,n)=>t.jsx("img",{src:s,className:Xe(st.icon,st[e]),alt:"Background Icon"},n))}),Tr="/Hunter-Demo-Build/icons/AppLogo.webp",Br="loadContainer__4xaTP",$r="loadContainerBackground__-1kLy",Lr="loaderContainer__L6tjc",Rr="loaderIconBackground__kLKwu",Pr="bounce__oxYeT",Hr="loaderIcon__WN4GY",Ar="loaderHeader__ifac2",ce={loadContainer:Br,loadContainerBackground:$r,loaderContainer:Lr,loaderIconBackground:Rr,bounce:Pr,loaderIcon:Hr,loaderHeader:Ar},Dr=()=>t.jsxs("div",{className:ce.loadContainer,children:[t.jsx("div",{className:ce.loadContainerBackground,children:t.jsx(Yt,{})}),t.jsxs("div",{className:ce.loaderContainer,children:[t.jsx("div",{className:ce.loaderIconBackground,children:t.jsx(j,{src:Tr,className:ce.loaderIcon,alt:"Loading"})}),t.jsx("span",{className:ce.loaderHeader,children:"Loading..."})]})]}),Mr={huntStartModal:!1,perks:!1,dailyRewardModal:!1,shopModal:!1,tonRewardModal:null},Qt=K({name:"modals",initialState:Mr,reducers:{huntStartModal:(s,e)=>{s.huntStartModal=e.payload},perksModal:(s,e)=>{s.perks=e.payload},dailyRewardModal:(s,e)=>{s.dailyRewardModal=e.payload},shopModal:(s,e)=>{s.shopModal=e.payload},tonRewardModal:(s,e)=>{s.tonRewardModal=e.payload}}}),{huntStartModal:es,perksModal:ts,dailyRewardModal:ss,shopModal:ns,tonRewardModal:wt}=Qt.actions,Ur=Qt.reducer,xt=()=>{const s=d.useContext(Ht);if(!s)throw new Error("useHuntContext must be used within a HuntProvider");return s},Fr="wrapper__UtU95",Er="fixedTop__YU1RT",Vr="bounceIn__emXF-",Or="headerContainer__N2Cl-",Wr="perksContainer__xn6II",qr="avatarZone__ywLox",Zr="hunterAvatar__gmUnF",zr="postamentAvatar__F-vv-",Gr="footer__Y-8RS",Jr="buttons__6fH8l",Xr="side__BHChB",Kr="item__zmkvH",Yr="btn__XrkC9",Qr="text__bDeJ9",ea="huntButton__VqVeX",ta="huntButtonInHunt__iY0WK",sa="huntButtonContent__XKfQV",na="huntText__6q4Vd",oa="huntTimer__BBFG4",ra="huntTimerIcon__FpwC-",V={wrapper:Fr,fixedTop:Er,bounceIn:Vr,headerContainer:Or,perksContainer:Wr,avatarZone:qr,hunterAvatar:Zr,postamentAvatar:zr,footer:Gr,buttons:Jr,side:Xr,item:Kr,btn:Yr,text:Qr,huntButton:ea,huntButtonInHunt:ta,huntButtonContent:sa,huntText:na,huntTimer:oa,huntTimerIcon:ra},aa=()=>{const s=U(),{currentHunt:e,timeLeft:n}=xt(),o=C(c=>c.lang),r=!!e&&(n??0)>0,a=()=>{r||s(es(!0))};return t.jsx("button",{onClick:a,className:r?V.huntButtonInHunt:V.huntButton,children:r?t.jsxs("div",{className:V.huntButtonContent,children:[t.jsx("span",{className:V.huntText,children:o.homepage.inHuntLabel}),t.jsxs("span",{className:V.huntTimer,children:[t.jsx("div",{className:V.huntTimerIcon,children:t.jsx(Fn,{})}),ca(n||0)]})]}):o.homepage.startHuntButton})};function ca(s){const e=Math.floor(s/3600),n=Math.floor(s%3600/60),o=s%60;return[e,n,o].map(r=>r.toString().padStart(2,"0")).join(":")}const ia=()=>{const s=U(),e=()=>{s(ns(!0))};return t.jsxs("div",{className:V.buttons,children:[t.jsx("div",{className:V.side,children:la(e)}),t.jsx("div",{className:V.side})]})},la=s=>da(t.jsx(ua,{}),"Shop",s),da=(s,e,n)=>t.jsxs(Ce.div,{className:V.item,children:[t.jsx("button",{className:V.btn,onClick:n,children:s}),t.jsx("p",{className:V.text,children:e})]});function ua(){return t.jsx("svg",{width:"24",height:"21",viewBox:"0 0 24 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M7.89977 0.339957C8.09867 0.00845255 8.52865 -0.0990425 8.86016 0.0998603C9.19166 0.298763 9.29916 0.728743 9.10025 1.06025L5.53636 7.00007H18.4636L14.8997 1.06025C14.7008 0.728743 14.8083 0.298763 15.1398 0.0998603C15.4713 -0.0990425 15.9013 0.00845255 16.1002 0.339957L20.0963 7.00007H22.4999C22.8865 7.00007 23.1999 7.31347 23.1999 7.70007V10.5001C23.1999 10.8866 22.8865 11.2 22.4999 11.2H21.7999V18.2C21.7999 19.7464 20.5463 21 19 21H5.00003C3.45364 21 2.20004 19.7464 2.20004 18.2V11.2H1.50005C1.11345 11.2 0.800049 10.8866 0.800049 10.5001V7.70007C0.800049 7.31347 1.11345 7.00007 1.50005 7.00007H3.9037L7.89977 0.339957ZM5.70002 13.3C5.70002 12.9134 5.38663 12.6 5.00003 12.6C4.61343 12.6 4.30003 12.9134 4.30003 13.3V17.5C4.30003 17.8866 4.61343 18.2 5.00003 18.2C5.38663 18.2 5.70002 17.8866 5.70002 17.5V13.3ZM9.20001 13.3C9.20001 12.9134 8.88661 12.6 8.50001 12.6C8.11341 12.6 7.80001 12.9134 7.80001 13.3V17.5C7.80001 17.8866 8.11341 18.2 8.50001 18.2C8.88661 18.2 9.20001 17.8866 9.20001 17.5V13.3ZM12.7 13.3C12.7 12.9134 12.3866 12.6 12 12.6C11.6134 12.6 11.3 12.9134 11.3 13.3V17.5C11.3 17.8866 11.6134 18.2 12 18.2C12.3866 18.2 12.7 17.8866 12.7 17.5V13.3ZM16.2 13.3C16.2 12.9134 15.8866 12.6 15.5 12.6C15.1134 12.6 14.8 12.9134 14.8 13.3V17.5C14.8 17.8866 15.1134 18.2 15.5 18.2C15.8866 18.2 16.2 17.8866 16.2 17.5V13.3ZM19.7 13.3C19.7 12.9134 19.3866 12.6 19 12.6C18.6134 12.6 18.3 12.9134 18.3 13.3V17.5C18.3 17.8866 18.6134 18.2 19 18.2C19.3866 18.2 19.7 17.8866 19.7 17.5V13.3Z",fill:"#AD7272"})})}function X(s){return s<1e6?pa(s):s<1e9?ha(s):`${s}`}function pa(s){if(s>=1e3&&s<1e6){const e=s/1e3;return`${os(e)}K`}return`${s}`}function ha(s){if(s>=1e6&&s<1e9){const e=s/1e6;return`${os(e)}M`}return`${s}`}function os(s){return Math.fround(s).toFixed(2)}const ma="perksButton__1Gg7k",fa="bounceIn__8ZClm",xa="yourlvl__-zRl3",ga="lvlText__Cy16N",va="lvlIcon__YbWy7",_a="lvlBtn__S9ZtC",Ca="lvlButtonIcon__iPLps",wa="lvlProgress__A6Sv7",ya="exp__-PdR4",ja="title__lh34O",ka="description__BNb6u",Ia="listWrapper__7Iwg0",ba="list__CBL-w",Na="item__tqrWS",Sa="btn__DotrF",Ta="buttonWrapper__la-4z",Ba="buttonIcon__MZxd2",$a="titleIcon__AHU9o",E={perksButton:ma,bounceIn:fa,yourlvl:xa,lvlText:ga,lvlIcon:va,lvlBtn:_a,lvlButtonIcon:Ca,lvlProgress:wa,exp:ya,title:ja,description:ka,listWrapper:Ia,list:ba,item:Na,btn:Sa,buttonWrapper:Ta,buttonIcon:Ba,titleIcon:$a},La=()=>{var c;const s=U(),e=C(i=>i.modals.shopModal),n=C(i=>i.lang.perks),o=C(i=>i.user),r=(c=o==null?void 0:o.profile)==null?void 0:c.gameProfile,a=Number(r==null?void 0:r.upgradePoints)||0;return t.jsx(t.Fragment,{children:!e&&t.jsxs("div",{className:E.perksButton,onClick:()=>{s(ts(!0))},children:[t.jsx(Ra,{}),n.perksBtn,": ",X(a)]})})},Ra=()=>t.jsxs("svg",{width:"16",height:"13",viewBox:"0 0 16 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M6.87708 0.316059C7.27838 -0.105352 7.95784 -0.105354 8.35914 0.316059L14.805 7.085C15.4131 7.72367 14.9532 8.76894 14.0639 8.76894H1.17229C0.283065 8.76894 -0.176913 7.72367 0.431265 7.085L6.87708 0.316059Z",fill:"#381B15"}),t.jsx("path",{d:"M6.87708 0.316059C7.27838 -0.105352 7.95784 -0.105354 8.35914 0.316059L14.805 7.085C15.4131 7.72367 14.9532 8.76894 14.0639 8.76894H1.17229C0.283065 8.76894 -0.176913 7.72367 0.431265 7.085L6.87708 0.316059Z",fill:"#121802"}),t.jsx("path",{d:"M0 10.7689C0 10.2167 0.454766 9.76894 1.01575 9.76894H14.2205C14.7815 9.76894 15.2362 10.2167 15.2362 10.7689V11.7689C15.2362 12.3212 14.7815 12.7689 14.2205 12.7689H1.01575C0.454765 12.7689 0 12.3212 0 11.7689V10.7689Z",fill:"#381B15"}),t.jsx("path",{d:"M0 10.7689C0 10.2167 0.454766 9.76894 1.01575 9.76894H14.2205C14.7815 9.76894 15.2362 10.2167 15.2362 10.7689V11.7689C15.2362 12.3212 14.7815 12.7689 14.2205 12.7689H1.01575C0.454765 12.7689 0 12.3212 0 11.7689V10.7689Z",fill:"#121802"})]}),lt="/Hunter-Demo-Build/icons/EmptyAvatarIcon.webp",Pa="playerAvatar__aiSfb",Ha={playerAvatar:Pa},Aa=we.GetAvatarUrl()||lt,gt=({photoUrl:s=Aa,loadingType:e,borderRadius:n=50})=>{const o=s||lt;return t.jsx("div",{className:Ha.playerAvatar,children:t.jsx(j,{src:o,alt:"Player Avatar",loadingType:e,style:{borderRadius:`${n}%`},onError:({currentTarget:r})=>{r.onerror=null,r.src=lt}})})},Da="/Hunter-Demo-Build/icons/BaseHunterAvatar.webp",Ma="hunterAvatar__Vm2b7",Ua={hunterAvatar:Ma},Fa=()=>t.jsx("div",{className:Ua.hunterAvatar,children:t.jsx(j,{src:Da,alt:"Hunter Avatar"})}),Ea="Back",Va="Receive",Oa={title:"THE HUNT IS OVER",text:"TOTAL HARVEST",btn:"Claim"},Wa={titles:["Short","Middle","Long"],text1:"Duration",text2:"Potential yield",hours:["hours","hours","hours"],ducks:"ducks"},qa={startHuntButton:"Start hunting",inHuntLabel:"On the hunt"},Za={perksBtn:"Skill points",lvlText:"Your skill points",experience:{title:"Hunt experience",description:"gives a bonus to hunting efficiency. It levels up automatically as you play."},accuracy:{title:"Accuracy",description:"reduces the number of misses and increases duck harvest."},luck:{title:"Luck",description:"increases the chance of a larger harvest."},speed:{title:"Speed",description:"increases arrow consumption to get more prey."},stamina:{title:"Stamina",description:"reduces the number of misses and increases duck catch."},list:[{title:"Accuracy",description:"reduces the number of misses and increases duck harvest."},{title:"Luck",description:"increases the chance of a larger harvest."},{title:"Speed",description:"increases arrow consumption to get more prey."},{title:"Stamina",description:"reduces the number of misses and increases duck catch."}]},za={title:"Merchant's bench",text:"Here you can buy goods for TON",sectionTitle:{arrows:"Arrows",exp:"Skill points",nfts:"NFTs"}},Ga={types:"subscribe",daily:!0,title:"Daily tasks",description:"gives a bonus to hunting efficiency. It levels up automatically as you play."},Ja={daily:!0,oneTime:!0},Xa={map:"Daily checkup card"},Ka={back:Ea,getReward:Va,huntOverModal:Oa,huntStartModal:Wa,homepage:qa,perks:Za,market:za,tasks:Ga,types:Ja,daily:Xa},Ya=Ka,rs=K({name:"language",initialState:Ya,reducers:{changeLanguage:(s,e)=>e.payload}});rs.actions;const Qa=rs.reducer,ec="wrapper__v2BNw",tc="lang__M73BN",sc="list__LLBDR",nc="item__Zu2fO",ke={wrapper:ec,lang:tc,list:sc,item:nc},nt=[{icon:t.jsx(rc,{}),name:"Eng",url:"https://static.tghunter.cc/wa_langs/langpack_en.json"},{icon:t.jsx(oc,{}),name:"Rus",url:"https://static.tghunter.cc/wa_langs/langpack_ru.json"},{icon:t.jsx(ac,{}),name:"Cn",url:"https://static.tghunter.cc/wa_langs/langpack_cn.json"}],ye=()=>{U();const[s,e]=d.useState(!1),[n,o]=d.useState(Number(localStorage.getItem("lang"))||0),{isTelegram:r,isDesktopPlatform:a,isOutsideTelegram:c}=le(),i=a&&r||c;return t.jsxs("div",{className:ke.wrapper,style:{marginTop:i?0:"var(--tg-system-top)"},children:[t.jsxs("div",{className:ke.lang,children:[nt[n].icon," ",nt[n].name]}),s&&t.jsx("div",{className:ke.list,children:nt.map((l,h)=>t.jsxs("div",{className:ke.item,children:[l.icon," ",l.name]},h))})]})};function oc(){return t.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsxs("g",{clipPath:"url(#clip0_380_4282)",children:[t.jsx("rect",{width:"15",height:"15",rx:"7.5",fill:"#1A47B8"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M-2 10H19V15H-2V10Z",fill:"#F93939"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M-2 0H19V5H-2V0Z",fill:"white"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_380_4282",children:t.jsx("rect",{width:"15",height:"15",rx:"7.5",fill:"white"})})})]})}function rc(){return t.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsxs("g",{clipPath:"url(#clip0_380_4503)",children:[t.jsx("rect",{width:"15",height:"15",rx:"7.5",fill:"white"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0H18V1H4V0ZM4 2H18V3H4V2ZM4 4H18V5H4V4ZM4 6H18V7H4V6ZM-3 8H18V9H-3V8ZM-3 10H18V11H-3V10ZM-3 12H18V13H-3V12Z",fill:"#F93939"}),t.jsx("path",{d:"M18 14H-3V15H18V14Z",fill:"#F93939"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H7V7H0V0Z",fill:"#1A47B8"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.44 4.89699L1.932 5.68999L2.22 4.00999L1 2.82299L2.686 2.57799L3.44 1.04999L4.194 2.57699L5.88 2.82199L4.66 4.01199L4.948 5.68999",fill:"white"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_380_4503",children:t.jsx("rect",{width:"15",height:"15",rx:"7.5",fill:"white"})})})]})}function ac(){return t.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsxs("g",{clipPath:"url(#clip0_380_4506)",children:[t.jsx("rect",{width:"15",height:"15",rx:"7.5",fill:"#F93939"}),t.jsx("path",{d:"M19 0H2C0.89543 0 0 0.89543 0 2V13C0 14.1046 0.89543 15 2 15H19C20.1046 15 21 14.1046 21 13V2C21 0.89543 20.1046 0 19 0Z",fill:"#F93939"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.49812 7.23L4.02812 8.003L4.30812 6.366L3.12012 5.206L4.76312 4.969L5.49812 3.479L6.23212 4.969L7.87512 5.206L6.68512 6.366L6.96712 8.002L5.49812 7.23ZM9.00012 3H10.0001V4H9.00012V3ZM10.0001 5H11.0001V6H10.0001V5ZM10.0001 7H11.0001V8H10.0001V7ZM9.00012 9H10.0001V10H9.00012V9Z",fill:"#FFDA2C"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_380_4506",children:t.jsx("rect",{width:"15",height:"15",rx:"7.5",fill:"white"})})})]})}const cc="header__lgY1z",ic="lside__iP2Oz",lc="rside__NOBxD",dc="avatar__R1Za7",uc="content__GJ-fy",pc="username__cOVU9",hc="lvl__APPYg",mc="levelProgress__RfuwK",fc="progressBar__UhsBV",xc="ducksContainer__b1VPO",gc="ducksIcon__QoNIp",vc="ducksBalance__lcK-e",_c="arrowsContainer__Nuohl",Cc="arrowsIcon__-SDo2",wc="arrowsBalance__-Cq0f",yc="tonsContainer__aenxf",jc="tonIcon__WL8vj",kc="tonsBalance__XPjoy",q={header:cc,lside:ic,rside:lc,avatar:dc,content:uc,username:pc,lvl:hc,levelProgress:mc,progressBar:fc,ducksContainer:xc,ducksIcon:gc,ducksBalance:vc,arrowsContainer:_c,arrowsIcon:Cc,arrowsBalance:wc,tonsContainer:yc,tonIcon:jc,tonsBalance:kc},je=()=>{var v;const s=C(g=>g.user.profile),{isTelegram:e,isDesktopPlatform:n,isOutsideTelegram:o}=le(),r=n&&e||o,a=((v=s==null?void 0:s.gameProfile)==null?void 0:v.level)||0,c=(s==null?void 0:s.username)||(s==null?void 0:s.firstName),i=s==null?void 0:s.inventory,l=s==null?void 0:s.gameProfile,h=(i==null?void 0:i.ducks)||0,p=(i==null?void 0:i.arrows)||0,m=(i==null?void 0:i.toncoins)||0,u=Number(l==null?void 0:l.currentLevelXP)+Number(l==null?void 0:l.nextLevelXP),x=l&&l.nextLevelXP>0?l.currentLevelXP/u:0,f=Math.min(100,x*100);return t.jsxs("div",{className:q.header,style:{marginTop:r?48:"var(--tg-top)"},children:[t.jsxs("div",{className:q.lside,children:[t.jsx("div",{className:q.avatar,children:t.jsx(gt,{})}),t.jsxs("div",{className:q.content,children:[t.jsx("p",{className:q.username,children:c}),t.jsxs("p",{className:q.lvl,children:["lvl ",a]}),t.jsx("div",{className:q.levelProgress,children:t.jsx("div",{className:q.progressBar,style:{width:`${f}%`}})})]})]}),t.jsxs("div",{className:q.rside,children:[t.jsxs("div",{className:q.ducksContainer,children:[t.jsx("div",{className:q.ducksIcon,children:t.jsx(ue,{})}),t.jsx("span",{className:q.ducksBalance,children:X(h)})]}),t.jsxs("div",{className:q.arrowsContainer,children:[t.jsx("div",{className:q.arrowsIcon,children:t.jsx(oe,{})}),t.jsx("span",{className:q.arrowsBalance,children:X(p)})]}),t.jsxs("div",{className:q.tonsContainer,children:[t.jsx("div",{className:q.tonIcon,children:t.jsx($o,{})}),t.jsx("span",{className:q.tonsBalance,children:`${Math.fround(m).toFixed(2)}`})]})]})]})},Ic=[{type:"prod",path:"/"},{type:"dev",path:"/Hunter-Demo-Build"}],bc=["/","/index.html"],yt="/leaderboard",jt="/frens",kt="/",It="/tasks",dt="/wallet",Nc=s=>{const e=Ic.find(n=>n.type===s);return(e==null?void 0:e.path)||"/"},Sc=s=>bc.includes(s),Tc=[{pathnames:[`${yt}`],icon:t.jsx(Bc,{}),link:`${yt}`},{pathnames:[`${jt}`],icon:t.jsx($c,{}),link:`${jt}`},{pathnames:[`${kt}`],icon:t.jsx(Lc,{}),link:`${kt}`},{pathnames:[`${It}`],icon:t.jsx(Pc,{}),link:`${It}`},{pathnames:[`${dt}`],icon:t.jsx(Rc,{}),link:`${dt}`}];function Bc(){return t.jsxs("svg",{width:"25",height:"22",viewBox:"0 0 25 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12.7 16.309C13.3435 16.309 13.2148 13.7096 13.8162 13.5498C15.0766 13.2148 15.9998 12.5488 16.9682 11.6354C18.8292 9.88002 20.0171 7.21098 20.0171 4.22196V3.84809V1.69902C17.3054 1.25887 15.517 1.03125 12.7 1.03125C10.6709 1.03125 7.89995 1.25887 5.18818 1.69902V3.84809V4.22196C5.18818 7.21098 6.37609 9.88002 8.23713 11.6354C9.20553 12.5488 10.3562 13.2148 11.6166 13.5498C12.218 13.7096 12.0565 16.309 12.7 16.309Z",fill:"#E2D6D4"}),t.jsx("path",{d:"M12.7 16.309C13.3435 16.309 13.2148 13.7096 13.8162 13.5498C15.0766 13.2148 15.9998 12.5488 16.9682 11.6354M12.7 16.309C12.0565 16.309 12.218 13.7096 11.6166 13.5498C10.3562 13.2148 9.20553 12.5488 8.23713 11.6354M12.7 16.309C12.7 17.2352 12.7 18.6771 12.7 18.6771C12.7 18.6771 12.7 19.5938 12.7 20.625M5.18818 3.84809C3.98036 4.05065 2.78477 4.29677 1.60266 4.585C2.15636 8.36774 1.79965 11.6354 8.23713 11.6354M5.18818 3.84809V4.22196C5.18818 7.21098 6.37609 9.88002 8.23713 11.6354M5.18818 3.84809V1.69902C7.89995 1.25887 10.6709 1.03125 12.7 1.03125C15.517 1.03125 17.3054 1.25887 20.0171 1.69902V3.84809M20.0171 3.84809V4.22196C20.0171 7.21098 18.8292 9.88002 16.9682 11.6354M20.0171 3.84809C21.225 4.05065 22.4205 4.29677 23.6027 4.585C23.049 8.36773 23.2719 12.4132 16.9682 11.6354M12.7 20.625C14.3214 20.625 16.9682 20.9688 16.9682 20.9688M12.7 20.625C11.6166 20.625 8.69445 20.9688 8.69445 20.9688",stroke:"#E2D6D4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function $c(){return t.jsxs("svg",{width:"23",height:"18",viewBox:"0 0 23 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M9.63794 17.1548C9.63794 17.1548 8.26294 17.1548 8.26294 15.7615C8.26294 14.3681 9.63794 10.1881 15.1379 10.1881C20.6379 10.1881 22.0129 14.3681 22.0129 15.7615C22.0129 17.1548 20.6379 17.1548 20.6379 17.1548H9.63794Z",fill:"#E5E5E5"}),t.jsx("path",{d:"M9.63794 17.1548C9.63794 17.1548 8.26294 17.1548 8.26294 15.7615C8.26294 14.3681 9.63794 10.1881 15.1379 10.1881C20.6379 10.1881 22.0129 14.3681 22.0129 15.7615C22.0129 17.1548 20.6379 17.1548 20.6379 17.1548H9.63794Z",fill:"#E2D6D4"}),t.jsx("path",{d:"M15.1379 8.79482C17.4161 8.79482 19.2629 6.92337 19.2629 4.61481C19.2629 2.30626 17.4161 0.434814 15.1379 0.434814C12.8598 0.434814 11.0129 2.30626 11.0129 4.61481C11.0129 6.92337 12.8598 8.79482 15.1379 8.79482Z",fill:"#E5E5E5"}),t.jsx("path",{d:"M15.1379 8.79482C17.4161 8.79482 19.2629 6.92337 19.2629 4.61481C19.2629 2.30626 17.4161 0.434814 15.1379 0.434814C12.8598 0.434814 11.0129 2.30626 11.0129 4.61481C11.0129 6.92337 12.8598 8.79482 15.1379 8.79482Z",fill:"#E2D6D4"}),t.jsx("path",{d:"M7.18544 17.1548C6.99184 16.759 6.88794 16.2898 6.88794 15.7615C6.88794 13.8729 7.82164 11.9306 9.54984 10.5782C8.79382 10.3332 7.91245 10.1881 6.88794 10.1881C1.38794 10.1881 0.0129395 14.3681 0.0129395 15.7615C0.0129395 17.1548 1.38794 17.1548 1.38794 17.1548H7.18544Z",fill:"#E5E5E5"}),t.jsx("path",{d:"M7.18544 17.1548C6.99184 16.759 6.88794 16.2898 6.88794 15.7615C6.88794 13.8729 7.82164 11.9306 9.54984 10.5782C8.79382 10.3332 7.91245 10.1881 6.88794 10.1881C1.38794 10.1881 0.0129395 14.3681 0.0129395 15.7615C0.0129395 17.1548 1.38794 17.1548 1.38794 17.1548H7.18544Z",fill:"#E2D6D4"}),t.jsx("path",{d:"M6.20044 8.79482C8.09892 8.79482 9.63794 7.23527 9.63794 5.31148C9.63794 3.38769 8.09892 1.82815 6.20044 1.82815C4.30196 1.82815 2.76294 3.38769 2.76294 5.31148C2.76294 7.23527 4.30196 8.79482 6.20044 8.79482Z",fill:"#E5E5E5"}),t.jsx("path",{d:"M6.20044 8.79482C8.09892 8.79482 9.63794 7.23527 9.63794 5.31148C9.63794 3.38769 8.09892 1.82815 6.20044 1.82815C4.30196 1.82815 2.76294 3.38769 2.76294 5.31148C2.76294 7.23527 4.30196 8.79482 6.20044 8.79482Z",fill:"#E2D6D4"})]})}function Lc(){return t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M23.9731 23.7788C23.9731 24.0632 23.6145 23.9921 23.3994 23.9921C23.1125 23.921 22.7539 23.7788 22.467 23.6365C21.6064 23.2099 20.7458 22.7832 19.8135 22.3566C19.7417 22.3566 19.67 22.2143 19.67 22.1432C19.5983 21.6455 19.5983 21.1477 19.8135 20.721L18.5225 19.441C18.3074 19.5833 18.164 19.6544 17.9488 19.7966C17.0882 20.2944 15.6538 21.0766 14.6498 21.7877C13.7892 22.3566 13.0003 22.9966 12.2114 23.7077C12.1396 23.7788 12.1396 23.7788 12.1396 23.7788H12.0679C11.9962 23.7788 11.9962 23.7788 11.9245 23.7788C11.4225 23.3521 10.9922 22.9966 10.5618 22.641C9.27092 21.6455 7.98 20.9344 6.4022 20.0099C6.04361 19.7966 5.75674 19.6544 5.46987 19.441L4.10723 20.6499C4.32238 21.0766 4.32238 21.6455 4.25067 22.1432C4.25067 22.2143 4.17895 22.2854 4.10723 22.2854C3.24661 22.7832 2.45772 23.1388 1.5971 23.5654C1.38195 23.6365 1.16679 23.7788 0.951638 23.8499C0.736484 23.921 0.52133 23.9921 0.377894 23.9921C0.377894 23.9921 0.306176 23.9921 0.234458 23.9921C0.162741 23.9921 0.162741 23.9921 0.0910226 23.921C-0.124131 23.7077 0.0910225 23.2099 0.234458 22.9254C0.306176 22.7121 0.52133 22.3566 0.736484 21.8588C1.02336 21.2188 1.31023 20.6499 1.5971 20.081C1.5971 20.0099 1.74054 20.0099 1.74054 19.9388C2.17084 19.7966 2.67287 19.7255 3.1749 19.8677L4.32238 18.6588C3.74864 18.3033 3.24661 17.8766 2.74459 17.3788C2.45772 17.0944 2.24256 16.8811 2.02741 16.5255C1.95569 16.3833 1.88397 16.17 1.81225 15.9566C1.66882 15.6722 1.66882 15.3166 1.81225 14.9611C1.88397 14.7477 1.95569 14.5344 2.09913 14.3211C2.31428 13.9655 2.67287 13.5389 2.88802 13.1833C3.53349 12.1878 3.82036 11.05 3.96379 9.91224C3.96379 9.69891 4.10723 9.13003 4.25067 8.2767C4.32238 7.70782 4.46582 7.13894 4.53754 6.64116C4.60925 6.28561 4.75269 5.93006 4.89613 5.57451C4.89613 5.57451 4.89613 5.57451 4.82441 5.57451C4.68097 5.29007 4.53754 5.14784 4.32238 4.93451C4.17895 5.07673 4.03551 5.21896 3.89208 5.36118C3.82036 5.43229 3.74864 5.5034 3.6052 5.36118C2.31428 4.22341 1.38195 3.37009 0.736484 2.8012C0.736484 2.8012 0.736484 2.73009 0.664766 2.65898C0.664766 2.58787 0.664766 2.58787 0.664766 2.51676C0.664766 2.44565 0.593048 2.23232 0.593048 1.73455C0.593048 1.66344 0.664766 1.59233 0.736484 1.59233C1.09507 1.59233 1.52538 1.59233 1.95569 1.59233C1.95569 1.16566 2.02741 0.739001 2.02741 0.312339C2.02741 0.241228 2.02741 0.241228 2.09913 0.170118C2.17084 0.170118 2.17084 0.170118 2.24256 0.170118C3.67692 1.4501 4.60925 2.37454 5.11128 2.8012C5.183 2.87231 5.183 2.94342 5.25472 3.01453C5.25472 3.22786 5.32643 3.4412 5.32643 3.72564C5.32643 3.79675 5.32643 3.86786 5.25472 3.86786L5.61331 4.22341C6.25877 3.51231 7.04767 2.94342 7.98 2.58787C8.69718 2.30343 9.55779 2.0901 10.3467 1.94788C10.8487 1.87677 11.3507 1.80566 11.9245 1.80566C12.0679 1.80566 12.2114 1.80566 12.3548 1.80566C12.8568 1.80566 13.2871 1.87677 13.7174 1.87677C14.8649 2.01899 15.9407 2.37454 16.873 2.94342C17.4468 3.29897 17.9488 3.65453 18.3074 4.1523L18.666 3.79675C18.5943 3.72564 18.5943 3.72564 18.5943 3.65453C18.666 3.22786 18.666 3.01453 18.666 2.87231C18.666 2.8012 18.7377 2.73009 18.8094 2.65898C20.1003 1.52122 21.0327 0.59678 21.6781 0.0278969C21.7498 -0.0432134 21.8933 0.0278969 21.8933 0.170118C21.965 0.739001 21.965 1.16566 21.965 1.4501C22.5387 1.4501 22.9691 1.4501 23.1842 1.4501C23.2559 1.4501 23.3276 1.52122 23.3276 1.59233C23.3276 1.66344 23.3276 1.87677 23.2559 2.37454C23.2559 2.44565 23.2559 2.51676 23.2559 2.51676C23.2559 2.58787 23.1842 2.58787 23.1842 2.65898C22.2519 3.51231 21.3195 4.36563 20.3155 5.21896C20.2438 5.29007 20.1721 5.29007 20.0286 5.14784L19.5983 4.72118L19.0246 5.5034C19.2397 6.07228 19.3832 6.64116 19.5266 7.28116C19.5983 7.85004 19.7417 8.34781 19.8135 8.70336C19.8852 9.27225 19.9569 9.69891 20.0286 10.1256C20.1721 10.9078 20.3872 11.69 20.6741 12.4011C20.961 12.97 21.3195 13.4678 21.6781 14.0366C21.7498 14.1789 21.8216 14.3211 21.965 14.4633C22.1802 14.8189 22.3236 15.1744 22.2519 15.53C22.2519 15.8855 22.0367 16.3122 21.7498 16.5966C21.5347 16.8099 21.3195 17.0944 21.1044 17.3077C20.6024 17.7344 20.1003 18.161 19.5266 18.5877L20.6741 19.7966C20.6741 19.7966 20.7458 19.7966 20.8175 19.7966C20.961 19.7966 21.1044 19.7255 21.2478 19.7966C21.463 19.7966 21.6781 19.8677 21.8933 19.9388C21.965 19.9388 22.0367 19.9388 22.0367 20.0099C22.1084 20.0099 22.1802 20.081 22.2519 20.1521C22.8256 21.2899 23.2559 22.2143 23.6145 22.9254C23.6862 23.0677 23.758 23.2099 23.758 23.3521C23.9731 23.4943 24.0448 23.6365 23.9731 23.7788Z",fill:"#E2D6D4"})})}function Rc(){return t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M3.98209 0.5L16.8136 0.5C19.1728 0.5 20.6681 3.04486 19.4812 5.10216L11.5621 18.8278C11.0454 19.7241 9.75032 19.7241 9.23355 18.8278L1.31282 5.10216C0.127489 3.04815 1.62284 0.5 3.98048 0.5H3.98209ZM11.5686 14.7117L13.2932 11.374L17.4546 3.93142C17.7292 3.45506 17.3901 2.84463 16.8152 2.84463H11.5702V14.7133L11.5686 14.7117ZM3.34427 3.92981L7.50407 11.3756L9.22871 14.7117V2.84302H3.98371C3.40882 2.84302 3.06974 3.45345 3.34427 3.92981Z",fill:"#E2D6D4"})})}function Pc(){return t.jsxs("svg",{width:"17",height:"23",viewBox:"0 0 17 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M8.98718 0.636719L11.3266 1.83713L13.9315 2.22824L15.1119 4.56166L16.9872 6.39491L16.5577 8.97005L16.9872 11.5452L15.1119 13.3784L13.9315 15.7119L11.3266 16.103L8.98718 17.3034L6.64776 16.103L4.04291 15.7119L2.8625 13.3784L0.987183 11.5452L1.41665 8.97005L0.987183 6.39491L2.8625 4.56166L4.04291 2.22824L6.64776 1.83713L8.98718 0.636719Z",fill:"black"}),t.jsx("path",{d:"M8.98718 0.636719L11.3266 1.83713L13.9315 2.22824L15.1119 4.56166L16.9872 6.39491L16.5577 8.97005L16.9872 11.5452L15.1119 13.3784L13.9315 15.7119L11.3266 16.103L8.98718 17.3034L6.64776 16.103L4.04291 15.7119L2.8625 13.3784L0.987183 11.5452L1.41665 8.97005L0.987183 6.39491L2.8625 4.56166L4.04291 2.22824L6.64776 1.83713L8.98718 0.636719Z",fill:"#E5E5E5"}),t.jsx("path",{d:"M8.98718 0.636719L11.3266 1.83713L13.9315 2.22824L15.1119 4.56166L16.9872 6.39491L16.5577 8.97005L16.9872 11.5452L15.1119 13.3784L13.9315 15.7119L11.3266 16.103L8.98718 17.3034L6.64776 16.103L4.04291 15.7119L2.8625 13.3784L0.987183 11.5452L1.41665 8.97005L0.987183 6.39491L2.8625 4.56166L4.04291 2.22824L6.64776 1.83713L8.98718 0.636719Z",fill:"#E2D6D4"}),t.jsx("path",{d:"M3.37938 17.017V22.8589L8.98718 21.4701L14.595 22.8589V17.017L11.7657 17.4418L8.98717 18.8675L6.20865 17.4418L3.37938 17.017Z",fill:"black"}),t.jsx("path",{d:"M3.37938 17.017V22.8589L8.98718 21.4701L14.595 22.8589V17.017L11.7657 17.4418L8.98717 18.8675L6.20865 17.4418L3.37938 17.017Z",fill:"#E5E5E5"}),t.jsx("path",{d:"M3.37938 17.017V22.8589L8.98718 21.4701L14.595 22.8589V17.017L11.7657 17.4418L8.98717 18.8675L6.20865 17.4418L3.37938 17.017Z",fill:"#E2D6D4"})]})}const Hc="nav__xAaOa",Ac="navItem__iV7zR",Dc="navItemCurrent__-nXF3",Mc="navItemNotify__b4hra",Uc="navItemNotifyCount__cOKk4",xe={nav:Hc,navItem:Ac,navItemCurrent:Dc,navItemNotify:Mc,navItemNotifyCount:Uc},Fc=()=>{const s=Lt();return t.jsx("div",{className:xe.nav,children:Tc.map(e=>t.jsx(Ec,{item:e,path:s.pathname},e.link))})},Ec=({item:s,path:e})=>{const n=U(),o=C(a=>a.notificationBar.unreadByRoute[s.link]),r=()=>{o&&n(Ft(s.link))};return t.jsxs(_s,{to:s.link,onClick:r,className:s.pathnames.includes(e)?xe.navItemCurrent:xe.navItem,children:[s.icon,o&&t.jsx("div",{className:xe.navItemNotify,children:t.jsx("span",{className:xe.navItemNotifyCount,children:"1"})})]},s.link)};const Vc=()=>t.jsxs("div",{className:V.wrapper,children:[t.jsx("div",{className:V.fixedTop,children:t.jsx(ye,{})}),t.jsx("div",{className:V.headerContainer,children:t.jsx(je,{})}),t.jsx("div",{className:V.perksContainer,children:t.jsx(La,{})}),t.jsx("div",{className:V.buttons,children:t.jsx(ia,{})}),t.jsxs("div",{className:V.avatarZone,children:[t.jsx("div",{className:V.hunterAvatar,children:t.jsx(Fa,{})}),t.jsx("div",{className:V.postamentAvatar,children:t.jsx(Gn,{})})]}),t.jsx("div",{className:V.footer,children:t.jsx(aa,{})})]}),Oc="huntStartModal__3UU5l",Wc="modal__A0Jfi",qc="close__nTY9u",Zc="huntListWrapper__Pt3jk",zc="huntList__6vNss",Gc="item__ORd5g",Jc="button__RZdN-",Xc="startHuntIcon__RQ0-j",Kc="durationWrapper__BIq8O",Yc="lootWraper__sZR9v",Qc="durationIcon__fxPJb",ei="durationText__5zAWz",ti="lootIcon__qxpuT",si="lootText__JkxOw",ni="header__2Ov-O",oi="rside__0-rFg",ri="title__JEud8",ai="description__wbH-7",ci="text__0shF2",W={huntStartModal:Oc,modal:Wc,close:qc,huntListWrapper:Zc,huntList:zc,item:Gc,button:Jc,startHuntIcon:Xc,durationWrapper:Kc,lootWraper:Yc,durationIcon:Qc,durationText:ei,lootIcon:ti,lootText:si,header:ni,rside:oi,title:ri,description:ai,text:ci},ii=()=>{const s=U(),{startHunt:e}=xt(),{addNewInventory:n}=de(!0),o=C(u=>u.lang),r=C(u=>{var x;return(x=u.user.profile)==null?void 0:x.inventory}),a=C(u=>u.gameConfig.huntTypes),c=C(u=>u.modals.huntStartModal),i=Number(r==null?void 0:r.arrows),l=Number(r==null?void 0:r.ducks),h=Number(r==null?void 0:r.toncoins),p=()=>{s(es(!1))},m=(u,x)=>{if(i<x){B.warn("No arrows to start hunting"),console.warn(`Not enough resources for start hunt, balance: ${i}, price: ${x}`);return}e(u);const f={ducks:l,arrows:i-x,toncoins:h};n(f),p()};return t.jsx(pt,{children:c&&t.jsx("div",{className:W.huntStartModal,children:t.jsxs(Ce.div,{initial:{top:"100%"},animate:{top:"30%"},exit:{top:"100%"},className:W.modal,children:[t.jsx("button",{className:W.close,onClick:p,children:o.back}),t.jsx("div",{className:W.huntListWrapper,children:t.jsx("div",{className:W.huntList,children:a&&li(a,o,m)})})]})})})},li=(s,e,n)=>s.map((o,r)=>{const{duration:a,arrowCost:c,minReward:i,maxReward:l}=o,h=(a/3600).toFixed(1),p=`${i} - ${l}`,m=`${e.huntStartModal.text1}: ${h} ${e.huntStartModal.hours[r]}`,u=`${e.huntStartModal.text2}: ${p} ${e.huntStartModal.ducks}`;return t.jsxs("div",{className:W.item,children:[t.jsx(Qe,{icon:ft}),t.jsxs("div",{className:W.header,children:[t.jsx("h3",{className:W.title,children:e.huntStartModal.titles[r]}),t.jsxs("div",{className:W.rside,children:[t.jsxs("div",{className:W.durationWrapper,children:[t.jsx("div",{className:W.durationIcon,children:t.jsx(Zt,{})}),t.jsxs("span",{className:W.durationText,children:[h," ",e.huntStartModal.hours[r]]})]}),t.jsxs("div",{className:W.lootWraper,children:[t.jsx("div",{className:W.lootIcon,children:t.jsx(ue,{})}),t.jsx("span",{className:W.lootText,children:p})]})]})]}),t.jsxs("div",{className:W.description,children:[t.jsx("p",{className:W.text,children:m}),t.jsx("p",{className:W.text,children:u})]}),t.jsxs("button",{className:W.button,onClick:()=>{n(o.type,c)},children:["-",X(c),t.jsx("div",{className:W.startHuntIcon,children:t.jsx(oe,{})})]})]},r)}),di=s=>{const[e,n]=d.useState(s),[o,r]=d.useState(0),a=d.useRef(s),{perksConfig:c}=C(v=>v.user),{updateHunterSkills:i,addNewHunterSkills:l,decreaseUpgradePoints:h,increaseUpgradePoints:p}=de(!0),m=d.useCallback(v=>{if(!e||!c)return;if(f(v)){B.warn("Reached maximum skill level");return}const g={...e,[v]:e[v]+1};n(g),r(_=>_+1),l(e),h(1)},[e,c,l,h]),u=d.useCallback(()=>{a.current&&(l(a.current),p(o))},[o,l,p]),x=d.useCallback(async()=>{if(!e||!a.current)return;const v=Object.entries(e).filter(([g])=>g!=="experience").map(([g,_])=>{var S;const k=((S=a.current)==null?void 0:S[g])??0,I=_-k;return{type:g,amount:I}}).filter(g=>g.amount>0);if(v.length!==0)try{await i(v),a.current=e,B.success("Perks successfully updated"),console.log("✅ Sucessfully commited perks changes")}catch{u(),B.error("Update perks failed")}},[e,i,u]);function f(v){const g=c==null?void 0:c.find(k=>k.skill===v);return!g||!e?(console.warn(`Config not found for skill ${v}`),!0):e[v]>=g.maxLevel}return{pendingPerks:e,upgradeSkill:m,commitChanges:x,rollback:u}},ui="/Hunter-Demo-Build/icons/AwardIcon.webp",pi=({perks:s,onUpgrade:e})=>{var c,i;const n=C(l=>l.lang.perks),o=C(l=>l.user),r=Number((i=(c=o.profile)==null?void 0:c.gameProfile)==null?void 0:i.upgradePoints),a=d.useMemo(()=>[{type:"accuracy",amount:(s==null?void 0:s.accuracy)||0,iconPath:Sn},{type:"luck",amount:(s==null?void 0:s.luck)||0,iconPath:ui},{type:"speed",amount:(s==null?void 0:s.speed)||0,iconPath:Qn},{type:"stamina",amount:(s==null?void 0:s.stamina)||0,iconPath:Ao}],[s]);return t.jsx("div",{className:E.listWrapper,children:t.jsx("div",{className:E.list,children:o&&a.map((l,h)=>{const p=a[h],m=p.iconPath,u=p.amount,x=n.list[h];return t.jsxs("div",{className:E.item,children:[t.jsx(Qe,{icon:m}),t.jsx("div",{className:E.content,children:t.jsxs("div",{children:[t.jsxs("div",{className:E.title,children:[x.title," ",u,t.jsx("img",{src:m,className:E.titleIcon})]}),t.jsx("div",{className:E.description,children:x.description})]})}),t.jsx("div",{className:E.buttonWrapper,children:t.jsx("button",{onClick:()=>e(p.type),className:E.btn,disabled:r<=0,children:t.jsx("div",{className:E.buttonIcon,children:t.jsx(Ot,{color:r===0?"disabled":"black"})})})})]},h)})})})},hi="modal__xTuUl",mi="modalContent__9jYHS",fi="closeButtonSection__Efbvy",xi="closeButton__NWluj",gi="closeButtonHeader__-B1Lw",me={modal:hi,modalContent:mi,closeButtonSection:fi,closeButton:xi,closeButtonHeader:gi},as=({closeCallback:s,closeText:e,children:n,minHeight:o,maxHeight:r,withBackColor:a=!1})=>{function c(){s()}return t.jsx(pt,{children:t.jsx("div",{className:me.modal,style:a?{backgroundColor:"#110d0d61"}:{},children:t.jsxs(Ce.div,{initial:{top:r||"100%"},animate:{top:o||"30%"},exit:{top:r||"100%"},className:me.modalContent,children:[t.jsx("div",{className:me.closeButtonSection,onClick:c,children:t.jsx("button",{className:me.closeButton,children:t.jsx("p",{className:me.closeButtonHeader,children:e})})}),n]})})})},vi=()=>{var x;const s=U(),e=C(f=>f.lang),n=C(f=>f.user),o=C(f=>f.modals.perks),r=n.perks,a=(x=n.profile)==null?void 0:x.gameProfile,{pendingPerks:c,commitChanges:i,upgradeSkill:l}=di(r),h=async()=>{console.log("⏳ Start closing perks modal..."),await i(),s(ts(!1)),console.log("✅ Perks modal closed")},p=Number(r==null?void 0:r.experience)||0,m=Number(a==null?void 0:a.upgradePoints)||0,u=Math.min(m/20*100,100);return t.jsx(t.Fragment,{children:o&&t.jsxs(as,{closeText:"Back",closeCallback:async()=>{await h()},withBackColor:!0,children:[t.jsxs("div",{className:E.yourlvl,children:[t.jsxs("div",{className:E.lvlText,children:[t.jsx("div",{className:E.lvlIcon,children:t.jsx(Ot,{})}),e.perks.lvlText,": ",X(m)]}),t.jsx("button",{className:E.lvlBtn,children:t.jsx("div",{className:E.lvlButtonIcon,children:t.jsx(Wn,{})})}),t.jsx("div",{className:E.lvlProgress,style:{"--points-width":`${u}%`}})]}),t.jsxs("div",{className:E.exp,children:[t.jsx(Qe,{icon:ft}),t.jsxs("h3",{className:E.title,children:[e.perks.experience.title," ",p,"%",t.jsx("div",{className:E.titleIcon,children:t.jsx(Pn,{})})]}),t.jsx("p",{className:E.description,children:e.perks.experience.description})]}),t.jsx(pi,{perks:c,onUpgrade:l})]})})},Je=()=>{const s=d.useContext(Vt);if(!s)throw new Error("useTonContext must be used within a TonProvider");return s},_i="radial-gradient(circle at center, rgba(255, 204, 64, 0.55) 0%, rgba(255, 204, 64, 0) 70%)",Ci="radial-gradient(circle at center, rgba(190, 235, 122, 0.3) 0%, rgba(190, 235, 122, 0) 70%)";function bt(s,e,n,o){if(!s)return[];const r=s.filter(c=>c.type===e);let a=[];for(let c=0;c<(r==null?void 0:r.length)&&!(!r||!r.length);c++){const i=n.length-1,l=n[c]||n[i],h=r[c],p=`${h.price[0].price} TON`;a.push({id:h.id,type:h.type,price:p,amount:h.amount,icon:l,buyCallback:o})}return a}const wi="shop__7NsQ9",yi="mainContent__kSvSl",ji="shopTitleBar__FZGxp",ki="textTitleBar__R6jCa",Ii="tonsAndArrows__1VjQ0",bi="products__-yZgQ",Ni="productsSection__ykw-v",Si="productsTitle__W0StG",Ti="productsList__j3wrf",Bi="productCard__O3YXV",$i="productIconFrame__u4fo0",Li="productIcon__a7FNP",Ri="productAmount__XWCil",Pi="buyButton__awgTJ",Hi="productPrice__A-5mM",Ai="emptyList__6-Lyl",Di="emptyListHeader__H2ga5",Mi="bounceIn__PMoDU",Z={shop:wi,mainContent:yi,shopTitleBar:ji,textTitleBar:ki,tonsAndArrows:Ii,products:bi,productsSection:Ni,productsTitle:Si,productsList:Ti,productCard:Bi,productIconFrame:$i,productIcon:Li,productAmount:Ri,buyButton:Pi,productPrice:Hi,emptyList:Ai,emptyListHeader:Di,bounceIn:Mi},cs=()=>{const s=U(),e=Ts(),n=C(w=>w.gameConfig.shopProducts),o=C(w=>w.modals.shopModal),[r]=ut(),{isTelegram:a,isDesktopPlatform:c,isOutsideTelegram:i}=le(),{isTransactionCreated:l,isTransactionSended:h,lastTransactionHash:p,requestTransactionStatus:m}=Je(),u=c&&a||i,{createTransaction:x}=Je(),f=r.connected,v=[t.jsx(_o,{}),t.jsx(jo,{}),t.jsx(No,{})],g=[t.jsx(no,{}),t.jsx(co,{}),t.jsx(po,{}),t.jsx(zt,{})],_=bt(n,"arrows",v,I),k=bt(n,"skillPoints",g,I);function I(w){if(w){if(!f){e(dt);return}if(l||h||m==="failed"&&p){B.warning("Transaction already exist");return}x(w)}}const S=()=>{s(ns(!1))};return t.jsx(t.Fragment,{children:o&&t.jsx("div",{className:Z.shop,children:t.jsxs("div",{className:Z.mainContent,children:[t.jsxs("div",{className:Z.shopTitleBar,style:{marginTop:u?72:"var(--tg-top)"},children:[t.jsxs("div",{className:Z.textTitleBar,children:[t.jsx("h1",{children:"Merchant's shop"}),t.jsx("p",{children:"This is where you can buy items for a TON"})]}),t.jsx("div",{className:Z.tonsAndArrows,children:t.jsx(Ho,{})})]}),t.jsx(as,{closeText:"Back",maxHeight:"100%",minHeight:"40%",closeCallback:S,withBackColor:!1,children:t.jsxs("div",{className:Z.products,children:[ot(f,"Arrows",_,_i),ot(f,"Skill points",k,Ci),ot(f,"NFTs",[],"")]})})]})})})},ot=(s,e,n,o)=>t.jsxs("div",{className:Z.productsSection,style:{"--product-light":`${o}`},children:[t.jsx("h1",{className:Z.productsTitle,children:e}),t.jsx("div",{className:Z.productsList,children:n.length?n.map((r,a)=>{const c=r.icon,i=r.price,l=X(r.amount);return t.jsxs("div",{className:Z.productCard,onClick:()=>r.buyCallback(r.id),children:[t.jsxs("div",{className:Z.productIconFrame,children:[t.jsx("div",{className:Z.productIcon,children:c}),t.jsx("span",{className:Z.productAmount,children:l})]}),t.jsx("div",{className:Z.buyButton,children:t.jsx("span",{className:Z.productPrice,children:i})})]},a)}):t.jsx("div",{className:Z.emptyList,children:t.jsx("span",{className:Z.emptyListHeader,children:"Soon..."})})})]}),Ui="menuScreen__-nLlH",Fi={menuScreen:Ui},Nt=()=>t.jsxs("div",{className:Fi.menuScreen,children:[t.jsx(Vc,{}),t.jsx(ii,{}),t.jsx(cs,{}),t.jsx(vi,{})]}),Ei="item__xU0JH",Vi="slideInStep__kPj0t",Oi="profile__-XLkk",Wi="profileAvatar__dzRLJ",qi="info__QtuBp",Zi="nameContainer__DSRPJ",zi="name__nZGqt",Gi="headerExtra__q1QWK",Ji="resources__sM3Xq",Xi="resourceIcon__mRvUu",Ki="resourceCount__uCsCd",Yi="tail__WnSrC",Y={item:Ei,slideInStep:Vi,profile:Oi,profileAvatar:Wi,info:qi,nameContainer:Zi,name:zi,headerExtra:Gi,resources:Ji,resourceIcon:Xi,resourceCount:Ki,tail:Yi},is=({className:s,style:e,avatarUrl:n,username:o,ducks:r=0,headerExtra:a,tail:c,usernameStyle:i,ducksStyle:l})=>t.jsxs("li",{className:Xe(Y.item,s),style:e,children:[t.jsxs("div",{className:Y.profile,children:[t.jsx("div",{className:Y.profileAvatar,children:t.jsx(gt,{photoUrl:`${n}`,loadingType:"eager"})}),t.jsxs("div",{className:Y.info,children:[t.jsxs("div",{className:Y.nameContainer,children:[t.jsx("div",{className:Y.name,style:i,children:o}),a&&t.jsx("span",{className:Y.headerExtra,children:a})]}),t.jsxs("div",{className:Y.resources,children:[t.jsx("div",{className:Y.resourceIcon,children:t.jsx(ue,{})}),t.jsx("span",{className:Y.resourceCount,style:l,children:X(r)})]})]})]}),t.jsx("div",{className:Y.tail,children:c})]}),Qi="memberSlot__JOMaJ",el="placement__fEu6o",tl="rank__owXrc",vt={memberSlot:Qi,placement:el,rank:tl},sl=({placement:s,rank:e,style:n={},...o})=>t.jsx(is,{usernameStyle:{color:"#EBE0DE"},ducksStyle:{color:"#C39696"},...o,className:vt.memberSlot,style:{...n,borderTop:"none"},headerExtra:nl(e),tail:ol(s)});function nl(s){return t.jsxs("span",{className:vt.rank,children:["lvl ",s]})}function ol(s){return t.jsx("span",{className:vt.placement,children:s})}const rl="referralSlot__bvuhl",al="profileStatus__seJju",cl="pending__ReZlk",il="completed__ZGiNP",Ge={referralSlot:rl,profileStatus:al,pending:cl,completed:il},ll=({className:s,status:e,...n})=>{const o=e==="VERIFIED"?Xt:Gt;return t.jsx(is,{...n,className:Ge.referralSlot,tail:dl(o,e)})};function dl(s,e){return t.jsx("img",{src:s,alt:e,className:Xe(Ge.profileStatus,{[Ge.completed]:e==="VERIFIED",[Ge.pending]:e==="IN-PROGRESS"})})}const ul="bottomBar__jh4sd",pl="bounceIn__lzf1F",hl={bottomBar:ul,bounceIn:pl},_t=({children:s,style:e})=>t.jsx("div",{className:hl.bottomBar,style:e,children:s}),ml="frame__AcDYW",fl={frame:ml},ls=({style:s,className:e,children:n})=>t.jsx("div",{className:`${fl.frame} ${e||""}`,style:s,children:n}),xl="referralPage__ozLok",gl="fixedTop__wumlo",vl="bounceIn__D-xXM",_l="headerContainer__ToROh",Cl="referralHeader__94kBa",wl="inviteRewardBox__1AEaS",yl="inviteRewardTextContainer__HWXi8",jl="inviteRewardHeaderText__jxuw3",kl="inviteRewardTitleText__B31qV",Il="inviteRewardIconContainer__KMTUj",bl="inviteRewardIcon__ejwqm",Nl="inviteRewardsInventory__ulsv2",Sl="inventoryHeader__q3Uj0",Tl="bottomTextContainer__MGUcU",Bl="headerFriendList__orjpt",$l="titleFriendList__o-fMp",Ll="bottomButtonsContainer__LzFEF",Rl="inviteButton__K-2h4",Pl="copyButton__H1tqu",Hl="copyButtonIcon__lTep7",Al="listHeaderContainer__NvO-B",Dl="listHeaderText__z-Ld5",Ml="listStatusContainer__TSRlF",Ul="allFriendsContainer__JNbuB",Fl="verifiedFriendsContainer__4pEbD",El="pendingFriendsContainer__udU9k",Vl="allFriendsIcon__rO6BO",Ol="verifiedFriendsIcon__Zhmyn",Wl="pendingFriendsIcon__J4DNR",ql="allFriendCount__C8jH2",Zl="verifiedFriendCount__Z7fvc",zl="pendingFriendCount__xogMC",Gl="friendsList__9Y0Lx",N={referralPage:xl,fixedTop:gl,bounceIn:vl,headerContainer:_l,referralHeader:Cl,inviteRewardBox:wl,inviteRewardTextContainer:yl,inviteRewardHeaderText:jl,inviteRewardTitleText:kl,inviteRewardIconContainer:Il,inviteRewardIcon:bl,inviteRewardsInventory:Nl,inventoryHeader:Sl,bottomTextContainer:Tl,headerFriendList:Bl,titleFriendList:$l,bottomButtonsContainer:Ll,inviteButton:Rl,copyButton:Pl,copyButtonIcon:Hl,listHeaderContainer:Al,listHeaderText:Dl,listStatusContainer:Ml,allFriendsContainer:Ul,verifiedFriendsContainer:Fl,pendingFriendsContainer:El,allFriendsIcon:Vl,verifiedFriendsIcon:Ol,pendingFriendsIcon:Wl,allFriendCount:ql,verifiedFriendCount:Zl,pendingFriendCount:zl,friendsList:Gl},Jl="https://t.me/test_tg_hunter_aperbot/hunt",Xl=()=>{const{refreshToken:s}=Ke(),{status:e,totalAmount:n,verifiedAmount:o,pendingAmount:r,referrals:a}=C(w=>w.social),{getFriends:c}=Ye(!0),[i,l]=d.useState([]),[h,p]=d.useState(0),[m,u]=d.useState(0),[x,f]=d.useState(0),v=we.GetUserProfile(),g=`${Jl}?startapp=ref_${v==null?void 0:v.id}`,_=`🚀 Join in while it’s still early!
The game on TON is still in development — you can already 🛠️ follow the progress, get 📢 updates, and 🧑‍🤝‍🧑 invite friends.
The earlier you join, the better your chances to hit the 🏆 top and earn bigger 💰 bonuses after launch!`,k=[...i].sort((w,O)=>(O.ducks??0)-(w.ducks??0)).slice(0,100),I=()=>{const w=encodeURIComponent(`
${_}`),G=`https://t.me/share/url?url=${encodeURIComponent(g)}&text=${w}`;if(!we.IsTelegram()){console.warn("App opened outide telegram :O");return}window.Telegram.WebApp.openTelegramLink(G)},S=()=>{const w=`${_}

 ${g}`;navigator.clipboard.writeText(`${w}`),B.success("Referral link copied")};return d.useEffect(()=>{s&&e==="loading"&&(console.log("Start fetching friends list..."),c())},[s,e,n,a]),d.useEffect(()=>{e==="succeeded"&&(l(a||[]),p(n||0),u(o||0),f(r||0))},[e,a,i]),t.jsxs("div",{className:N.referralPage,children:[t.jsx("div",{className:N.fixedTop,children:t.jsx(ye,{})}),t.jsx("div",{className:N.headerContainer,children:t.jsx(je,{})}),t.jsxs("div",{className:N.inviteRewardBox,children:[t.jsxs("div",{className:N.inviteRewardTextContainer,children:[t.jsx("span",{className:N.inviteRewardHeaderText,children:"Chests"}),t.jsx("span",{className:N.inviteRewardTitleText,children:"Invite friends to receive keys"})]}),t.jsx("div",{className:N.inviteRewardIconContainer,children:t.jsx("div",{className:N.inviteRewardIcon,children:t.jsx(Fo,{})})})]}),t.jsxs(_t,{children:[t.jsxs("div",{className:N.bottomTextContainer,children:[t.jsx("span",{className:N.headerFriendList,children:"Recruits"}),t.jsx("span",{className:N.titleFriendList,children:"Invite your friends NOW and get bonuses AFTER the game launches!"})]}),t.jsxs("div",{className:N.bottomButtonsContainer,children:[t.jsx("button",{className:N.inviteButton,onClick:I,children:"Invite Newbies"}),t.jsx("button",{className:N.copyButton,onClick:S,children:t.jsx("div",{className:N.copyButtonIcon,children:t.jsx(Wo,{})})})]}),t.jsxs("div",{className:N.listHeaderContainer,children:[t.jsx("span",{className:N.listHeaderText,children:"Your recruits"}),t.jsxs("div",{className:N.listStatusContainer,children:[t.jsxs("div",{className:N.allFriendsContainer,children:[t.jsx("span",{className:N.allFriendCount,children:X(h)}),t.jsx("div",{className:N.allFriendsIcon,children:t.jsx(Yn,{})})]}),t.jsxs("div",{className:N.verifiedFriendsContainer,children:[t.jsx("span",{className:N.verifiedFriendCount,children:X(m)}),t.jsx("div",{className:N.verifiedFriendsIcon,children:t.jsx(Jo,{})})]}),t.jsxs("div",{className:N.pendingFriendsContainer,children:[t.jsx("span",{className:N.pendingFriendCount,children:X(x)}),t.jsx("div",{className:N.pendingFriendsIcon,children:t.jsx(Jt,{})})]})]})]}),t.jsx("div",{className:N.friendsList,children:i.length>0&&t.jsx("ul",{children:k.map((w,O)=>t.jsx(ll,{avatarUrl:w.photoUrl,username:w.username,status:w.status,ducks:w.ducks,style:{animationDelay:`${O*.2}s`}},O))})})]})]})};function Kl(s){if(s.length<=4+4)return s;const o=s.slice(0,4),r=s.slice(s.length-4);return`${o}...${r}`}const Yl="windowVerificationOverlay__wqXz3",Ql="windowVerification__6AfC9",ed="closeButton__-O1PZ",td="logoBlueWhite__ZIyel",sd="textDescription__PpdXu",nd="mainText__b8gYE",od="price__kiUmk",rd="buyButton__mzv9F",ad="bounceIn__65ns8",se={windowVerificationOverlay:Yl,windowVerification:Ql,closeButton:ed,logoBlueWhite:td,textDescription:sd,mainText:nd,price:od,buyButton:rd,bounceIn:ad},cd=({onClose:s})=>{var k;const[e,n]=d.useState(!1),o=C(I=>I.gameConfig.shopProducts),{isTransactionSended:r,isTransactionConfirmed:a,completedTransactionPayload:c,createTransaction:i}=Je(),{isTelegram:l,isDesktopPlatform:h,isOutsideTelegram:p}=le(),m=o==null?void 0:o.find(I=>I.id==="ton-verification"),u=m==null?void 0:m.price[0].price,x=((k=c==null?void 0:c.updatedTonProfile)==null?void 0:k.isVerified)||!1,f=h&&l||p,v=e||r,g=e?"Pending...":"Verify",_=()=>{v||(n(!0),i("ton-verification",()=>{n(!1)}))};return d.useEffect(()=>{a&&x&&(n(!1),s(),console.log("Ton profile verified"))},[x,a]),t.jsx("div",{className:se.windowVerificationOverlay,children:t.jsxs("div",{className:se.windowVerification,children:[t.jsx("button",{className:se.closeButton,style:{marginTop:f?0:"var(--tg-top)"},onClick:s,children:t.jsx(Kt,{})}),t.jsx("div",{className:se.logoBlueWhite,style:{marginTop:f?0:"var(--tg-top)"},children:t.jsx(ir,{})}),t.jsxs("div",{className:se.textDescription,children:[t.jsx("h1",{children:"Verification"}),t.jsx("p",{children:"All we need to do is make sure you're not a bot. It's a simple one-time verification that opens up incredible possibilities"})]}),t.jsxs("div",{className:se.mainText,children:[t.jsxs("ol",{children:[t.jsx("li",{children:"1. Access to an exclusive section of the game based on TON. "}),t.jsx("li",{children:"2. For each friend invited, unlimited bonus games where one of the boxes contains 1 ΤΟΝ. "}),t.jsx("li",{children:"3. Guaranteed airdrop of TGH tokens directly to the connected wallet. "})]}),t.jsx("ul",{children:t.jsx("li",{children:"Verify once and enjoy all these privileges!"})}),t.jsxs("p",{children:["Cost ",t.jsxs("span",{className:se.price,children:[u," TON"]})]})]}),t.jsx("button",{className:se.buyButton,onClick:_,children:g})]})})},id="block__P-9MB",ld="mainIcon__YyMrL",dd="content__Zt2NU",ud="headerName__ftuUZ",pd="partyIcon__N5bwb",hd="textInfo__WjvJf",md="awardButton__xmEjv",ne={block:id,mainIcon:ld,content:dd,headerName:ud,partyIcon:pd,textInfo:hd,awardButton:md},fd=({type:s,amount:e})=>{const o=[{type:"arrows",icon:t.jsx(oe,{}),text:"Arrows",lightGradient:"linear-gradient(to bottom, rgba(70, 193, 26, 0.65), rgba(70, 193, 26, 0.65))"},{type:"ducks",icon:t.jsx(ue,{}),text:"Ducks",lightGradient:"linear-gradient(to bottom, rgba(70, 193, 26, 0.65), rgba(70, 193, 26, 0.65))"},{type:"skillPoints",icon:t.jsx(zt,{}),text:"Skill points",lightGradient:"linear-gradient(to bottom, rgba(70, 193, 26, 0.65), rgba(70, 193, 26, 0.65))"},{type:"toncoin",icon:t.jsx(ze,{}),text:"TON",lightGradient:"linear-gradient(to bottom, #318AFF80, #318AFF80)"},{type:"tonChest",icon:t.jsx(Ze,{}),text:"Chest",lightGradient:"linear-gradient(to bottom, #318AFF80, #318AFF80)"}].find(r=>r.type===s);return t.jsx("div",{className:ne.block,style:{"--lightColor":`${o==null?void 0:o.lightGradient}`},children:t.jsxs("div",{className:ne.content,children:[t.jsxs("span",{className:ne.headerName,children:[t.jsx("div",{className:ne.partyIcon,children:t.jsx(Ct,{})}),"YOUR REWARD",t.jsx("div",{className:ne.partyIcon,children:t.jsx(Ct,{})})]}),t.jsx("div",{className:ne.mainIcon,children:o==null?void 0:o.icon}),t.jsx("div",{className:ne.textInfo,children:t.jsxs("p",{children:[o==null?void 0:o.text," +",e]})}),t.jsx("button",{className:ne.awardButton,children:"Receive"})]})})},xd="tonconnect__o3-pj",gd="fixedTop__rYaUr",vd="bounceIn__0ZHEt",_d="headerContainer__ZKAd2",Cd="mainContent__ZrjeX",wd="titleContainer__8FNSB",yd="titleSection__zhcFz",jd="mainTonIconBlue__wajWo",kd="bigTonIcon__35Txx",Id="middleTonIcon__jyiSH",bd="smallTonIcon__aYXtS",Nd="buttons__Rbeje",Sd="connectButton__RYUlP",Td="verifyButton__zQeBO",Bd="verifyButtonContent__wypsw",$d="verifyButtonHeader__ieds9",Ld="completeIcon__R8ZGQ",Rd="safesSection__-f8AN",Pd="safes__drm1U",Hd="tonChest__qiRnz",Ad="tonChestIcon__qQ8k4",Dd="lock__DBoQG",Md="lockWrapper__flbcg",Ud="keyCountDiv__DCiGl",Fd="keyCount__ynBlX",Ed="blueKeyIcon__U9t0r",Vd="referralButton__y0xeH",Od="referralButtonBar__vbdH7",Wd="referralIcon__uDqGu",qd="modalOverlay__T5ZQN",Zd="awardOverlay__MlgFK",zd="tonIconGroup__Kx53k",y={tonconnect:xd,fixedTop:gd,bounceIn:vd,headerContainer:_d,mainContent:Cd,titleContainer:wd,titleSection:yd,mainTonIconBlue:jd,bigTonIcon:kd,middleTonIcon:Id,smallTonIcon:bd,buttons:Nd,connectButton:Sd,verifyButton:Td,verifyButtonContent:Bd,verifyButtonHeader:$d,completeIcon:Ld,safesSection:Rd,safes:Pd,tonChest:Hd,tonChestIcon:Ad,lock:Dd,lockWrapper:Md,keyCountDiv:Ud,keyCount:Fd,blueKeyIcon:Ed,referralButton:Vd,referralButtonBar:Od,referralIcon:Wd,modalOverlay:qd,awardOverlay:Zd,tonIconGroup:zd},Gd=()=>{const s=U(),e=C(T=>{var $;return($=T.user.profile)==null?void 0:$.tonProfile}),n=C(T=>T.modals.tonRewardModal),[o,r]=d.useState(!1),[a,c]=d.useState(!1),[i]=ut(),l=Is(!0)||null,h=$t(),{isTelegram:p,isDesktopPlatform:m,isOutsideTelegram:u}=le(),{tonRewardStatus:x,tonReferralReward:f,getTonReferralReward:v}=Ye(!0),{isTransactionConfirmed:g,completedTransactionPayload:_,connectWallet:k}=Je(),I=_==null?void 0:_.updatedTonProfile,S=m&&p||u,w=I?I==null?void 0:I.isVerified:(e==null?void 0:e.isVerified)||!1,O=i.connected||h&&l!==null,G=Number(e==null?void 0:e.chestKeys),ee=X(G),Q=Kl(String(l)),te=O?Q:"Connect";d.useEffect(()=>{if(O&&(g&&w&&I&&(B.success("Ton profile verified!"),r(!1)),a&&x==="succeeded"&&f)){const T=f.reward;s(wt({isVisible:!0,type:T.resource,amount:T.receivedAmount})),c(!1)}},[O,w,g,a,x,f]);const pe=async()=>{await k(O,!0)},D=()=>{w||r(!0)},et=()=>{r(!1)},re=()=>{if(G<=0){B.warning("Not enought keys!");return}v(),c(!0)},b=()=>{s(wt({isVisible:!1}))};return t.jsxs("div",{className:y.tonconnect,children:[t.jsx("div",{className:y.fixedTop,children:t.jsx(ye,{})}),t.jsx("div",{className:y.headerContainer,children:t.jsx(je,{})}),t.jsxs("div",{className:y.mainContent,children:[t.jsx("div",{className:y.titleContainer,style:{marginTop:S?"var(--titleHeaderHeight)":"calc(var(--titleHeaderHeight) + var(--tg-top))"},children:t.jsxs("div",{className:y.titleSection,children:[t.jsx("h1",{children:"Ton"}),t.jsx("h1",{children:"Connect wallet"}),t.jsx("p",{children:"Connect your wallet and pass verification"})]})}),t.jsxs("div",{className:y.buttons,children:[t.jsx("button",{className:y.connectButton,onClick:pe,children:te}),t.jsx("button",{className:y.verifyButton,id:"window-verification",onClick:D,children:w?t.jsxs("div",{className:y.verifyButtonContent,children:[t.jsx("span",{className:y.verifyButtonHeader,children:"Verified"}),t.jsx("div",{className:y.completeIcon,children:t.jsx(qt,{})})]}):t.jsx("span",{className:y.verifyButtonHeader,children:"Verify"})})]}),t.jsx("div",{className:y.bigTonIcon,style:{marginTop:S?0:"var(--tg-top)"},children:t.jsx(ze,{})}),t.jsx("div",{className:y.middleTonIcon,style:{marginTop:S?0:"var(--tg-top)"},children:t.jsx(ze,{})}),t.jsx("div",{className:y.smallTonIcon,style:{marginTop:S?0:"var(--tg-top)"},children:t.jsx(ze,{})}),t.jsx(_t,{children:t.jsxs("div",{className:y.safesSection,children:[t.jsx("h2",{children:"Chests"}),t.jsx("p",{children:"Invite friends to receive keys"}),t.jsx("p",{children:"Once a friend is verified, you will receive a TON of chests"}),t.jsxs("div",{className:y.safes,children:[t.jsxs("div",{className:y.tonChest,children:[t.jsx("div",{className:y.tonChestIcon,children:t.jsx(Ze,{})}),t.jsx("div",{className:y.lock,onClick:re,children:t.jsx("div",{className:y.lockWrapper,children:t.jsx(tt,{})})})]}),t.jsxs("div",{className:y.tonChest,children:[t.jsx("div",{className:y.tonChestIcon,children:t.jsx(Ze,{})}),t.jsx("div",{className:y.lock,onClick:re,children:t.jsx("div",{className:y.lockWrapper,children:t.jsx(tt,{})})})]}),t.jsxs("div",{className:y.tonChest,children:[t.jsx("div",{className:y.tonChestIcon,children:t.jsx(Ze,{})}),t.jsx("div",{className:y.lock,onClick:re,children:t.jsx("div",{className:y.lockWrapper,children:t.jsx(tt,{})})})]})]}),t.jsx("div",{className:y.keyCountDiv,children:t.jsxs("div",{className:y.keyCount,children:[t.jsx("div",{className:y.blueKeyIcon,children:t.jsx(pr,{})}),t.jsx("span",{children:ee})]})})]})})]}),o&&t.jsx("div",{className:y.modalOverlay,children:t.jsx(cd,{onClose:et})}),(n==null?void 0:n.isVisible)&&t.jsx("div",{className:y.awardOverlay,onClick:b,children:t.jsx("div",{className:y.awardContent,children:t.jsx(fd,{type:n.type,amount:n.amount})})})]})},Jd="/Hunter-Demo-Build/icons/LeaderboardBackground.webp",Xd="/Hunter-Demo-Build/icons/BrokenArrow.webp",Kd="leaderboard__Lnjb-",Yd="langBar__EjznT",Qd="bounceIn__q1Lxc",eu="profileBar__Q-cDr",tu="header__mwi1S",su="headerBackground__vChLt",nu="clothBackground__eLT2W",ou="headerText__QE7mw",ru="winnnersPlacement__9fTUu",au="flipIn__b2dIE",cu="firstPlace__Xv58M",iu="secondPlace__iO3OA",lu="thirdPlace__aYVCa",du="firstPlaceIcon__X4Wlg",uu="winnerMetadata__oYb6F",pu="winnerAvatar__piWe-",hu="winnerName__tOIIG",mu="winnerLvl__jeK-J",fu="winnerDucks__JPmyQ",xu="winnerDucksIcon__eBHDT",gu="bottomContainer__YzeAg",vu="headerBar__qnwSN",_u="membersList__NCIBM",Cu="popGlow__4Ooer",wu="slideInLeft__11cN-",yu="slideInRight__tgLhj",F={leaderboard:Kd,langBar:Yd,bounceIn:Qd,profileBar:eu,header:tu,headerBackground:su,clothBackground:nu,headerText:ou,winnnersPlacement:ru,"winner-place-1":"winner-place-1__oOEM3",flipIn:au,"winner-place-2":"winner-place-2__6Xp-U","winner-place-3":"winner-place-3__rMlt9",firstPlace:cu,secondPlace:iu,thirdPlace:lu,firstPlaceIcon:du,winnerMetadata:uu,winnerAvatar:pu,winnerName:hu,winnerLvl:mu,winnerDucks:fu,winnerDucksIcon:xu,bottomContainer:gu,headerBar:vu,membersList:_u,popGlow:Cu,slideInLeft:wu,slideInRight:yu},ju=()=>{const s=d.useRef(!1),{leaderboard:e,error:n}=C(m=>m.social),{getLeaderboard:o}=Ye(!0),a=e||[{name:"Loading...",photoUrl:"",ducks:0,level:1},{name:"Loading...",photoUrl:"",ducks:0,level:1},{name:"Loading...",photoUrl:"",ducks:0,level:1},{name:"Loading...",photoUrl:"",ducks:0,level:1}],[c,i,l,...h]=a.filter(m=>(m.ducks??0)>0).sort((m,u)=>u.ducks-m.ducks),p=h.slice(0,97);return d.useEffect(()=>{console.log(`Leaderboard status update: ${s.current}`),!s.current&&(o(),s.current=!0)},[s]),t.jsxs("div",{className:F.leaderboard,children:[t.jsx("div",{className:F.langBar,children:t.jsx(ye,{})}),t.jsx("div",{className:F.profileBar,children:t.jsx(je,{})}),t.jsx("div",{className:F.header,children:t.jsx("div",{className:F.headerBackground,children:t.jsx("img",{src:Jd,alt:"Red Background",className:F.clothBackground})})}),t.jsxs("div",{className:F.winnnersPlacement,children:[t.jsx("div",{className:F.secondPlace,children:i&&rt("#596A7B",2,i.name,i.level,i.ducks,`${i.photoUrl}`)}),t.jsx("div",{className:F.firstPlace,children:c&&rt("#D58F06",1,c.name,c.level,c.ducks,`${c.photoUrl}`)}),t.jsx("div",{className:F.thirdPlace,children:l&&rt("#B33720",3,l.name,l.level,l.ducks,`${l.photoUrl}`)})]}),t.jsx("div",{className:F.bottomContainer,children:t.jsxs(_t,{style:{borderTopLeftRadius:75,borderTopRightRadius:75},children:[t.jsx("span",{className:F.headerBar,children:"Top 100 hunters"}),t.jsx("div",{className:F.membersList,children:a.length>3&&t.jsx("ul",{children:p.map((m,u)=>t.jsx(sl,{avatarUrl:m.photoUrl,username:m.name,placement:u+4,ducks:m.ducks,rank:m.level,style:{animationDelay:`${u*.2}s`}},m.name+u))})})]})})]})};function rt(s,e,n,o,r,a,c){const i=e===1?"0px 4px 78px rgba(255, 242, 94, 0.65)":"none";return t.jsx(t.Fragment,{children:t.jsxs(ls,{style:{"--frame-border":`4px solid ${s}`,"--frame-background-color":"linear-gradient(to left, #573030, #3b2121)","--frame-glow":i},className:F[`winner-place-${e}`],children:[t.jsx("div",{className:F.winnerAvatar,children:t.jsx(gt,{photoUrl:a,loadingType:"eager"})}),c&&t.jsx("img",{className:F.firstPlaceIcon,src:Xd,alt:"Broken arrow"}),t.jsxs("div",{className:F.winnerMetadata,children:[t.jsx("div",{className:F.winnerName,children:n}),t.jsxs("div",{className:F.winnerLvl,children:["lvl ",o]}),t.jsxs("div",{className:F.winnerDucks,children:[t.jsx("div",{className:F.winnerDucksIcon,children:t.jsx(ue,{})}),X(r)]})]})]})})}const ds=()=>{const s=d.useContext(Mt);if(!s)throw new Error("useDailyStreakContext must be used within a DailyStreakProvider");return s},ku="contentWrapper__Wog6H",Iu="bowIconWrapper__c0weP",bu="bounceIn__9INvI",Nu="textWrapper__wmVYb",Su="headerText__yW4BJ",Tu="descriptionText__5LqQv",Bu="dailyRewardBar__1rnFt",$u="banner__cLzYi",Lu="headerBarText__LFDj5",Ru="headerBarIcon__Y2OoG",Pu="descriptionBarText__IljFo",Hu="btnActive__DoZJq",Au="btnNotActive__21Ctd",Du="rewardAvailableBar__k495g",Mu="rewardAvailableText__03nzc",Uu="rewardAvailableIcon__MeuNa",Fu="rewardNotAvailableBar__-NKor",Eu="rewardNotAvailableText__mVwIb",Vu="rewardNotAvailableIcon__9nhNm",Ou="dailybtn__e0JXM",Wu="dailyButtonIcon__yBIJD",qu="mapbtn__pJ3hP",M={contentWrapper:ku,bowIconWrapper:Iu,bounceIn:bu,textWrapper:Nu,headerText:Su,descriptionText:Tu,dailyRewardBar:Bu,banner:$u,headerBarText:Lu,headerBarIcon:Ru,descriptionBarText:Pu,btnActive:Hu,btnNotActive:Au,rewardAvailableBar:Du,rewardAvailableText:Mu,rewardAvailableIcon:Uu,rewardNotAvailableBar:Fu,rewardNotAvailableText:Eu,rewardNotAvailableIcon:Vu,dailybtn:Ou,dailyButtonIcon:Wu,mapbtn:qu},Zu=()=>{const{timeLeft:s,dailyStreak:e,availableReward:n,checkDailyRewardStatus:o}=ds(),{addNewInventory:r}=de(!0),a=C(l=>{var h;return(h=l.user.profile)==null?void 0:h.inventory}),c=!s&&!(e!=null&&e.reward),i=()=>{if(!c||(o(),!a))return;const l={ducks:a.ducks,arrows:a.arrows+n,toncoins:a.toncoins};r(l)};return t.jsxs("div",{className:M.banner,children:[t.jsx(Qe,{icon:Wt}),t.jsxs("div",{children:[t.jsxs("h4",{className:M.headerBarText,children:["Daily Reward",t.jsx("div",{className:M.headerBarIcon,children:t.jsx(qt,{})})]}),t.jsx("p",{className:M.descriptionBarText,children:"Get more every day"})]}),t.jsx("button",{className:c?M.btnActive:M.btnNotActive,onClick:i,children:t.jsx("div",{className:M.claimRewardText,children:c?t.jsxs("div",{className:M.rewardAvailableBar,children:[t.jsxs("div",{className:M.rewardAvailableText,children:["+ ",n]}),t.jsx("div",{className:M.rewardAvailableIcon,children:t.jsx(oe,{})})]}):t.jsxs("div",{className:M.rewardNotAvailableBar,children:[t.jsx("div",{className:M.rewardNotAvailableIcon,children:t.jsx(Jt,{})}),t.jsx("div",{className:M.rewardNotAvailableText,children:zu(s??0)})]})})})]})};function zu(s){const e=Math.floor(s/3600),n=Math.floor(s%3600/60),o=s%60,r=e>0?`${e.toString().padStart(2,"0")}:`:"",a=`${n.toString().padStart(2,"0")}:`,c=`${o.toString().padStart(2,"0")}`;return`${r}${a}${c}`}const Gu=({text:s})=>{const e=U(),n=()=>{e(ss(!0))};return t.jsxs("div",{className:M.dailybtn,children:[t.jsx("div",{className:M.dailyButtonIcon,children:t.jsx(vn,{})}),t.jsx("button",{className:M.mapbtn,onClick:n,children:s})]})},Ju=()=>t.jsxs("div",{className:M.contentWrapper,children:[t.jsx("div",{className:M.bowIconWrapper,children:t.jsx(oe,{})}),t.jsxs("div",{className:M.textWrapper,children:[t.jsx("h3",{className:M.headerText,children:"Get arrows"}),t.jsx("p",{className:M.descriptionText,children:"Receive arrows every day or complete tasks"})]}),t.jsxs("div",{className:M.dailyRewardBar,children:[t.jsx(Zu,{}),t.jsx(Gu,{text:"Daily check-up card"})]})]}),Xu="dailyStreakWrapper__gpp3R",Ku="topWrapper__k1jsU",Yu="closeButton__IQOhA",Qu="topHeader__htjzS",e1="streaksList__3Smxv",t1="streakFrameWrapper__dAu1P",s1="rotateIn__7dLD8",n1="streakFrame__e-dBy",o1="past__cPNrY",r1="future__xlqhC",a1="streakIcon__syUK3",c1="streakHeader__1-fTf",i1="streakRewardText__5vzPi",l1="active__aBzyV",d1="fadeInUp__Qj2nG",u1="slideInUp__s1JGh",z={dailyStreakWrapper:Xu,topWrapper:Ku,closeButton:Yu,topHeader:Qu,streaksList:e1,streakFrameWrapper:t1,rotateIn:s1,streakFrame:n1,past:o1,future:r1,streakIcon:a1,streakHeader:c1,streakRewardText:i1,active:l1,fadeInUp:d1,slideInUp:u1},p1=30,St=6,h1=()=>{const s=U(),{timeLeft:e,dailyStreak:n,availableReward:o,checkDailyRewardStatus:r}=ds(),{addNewInventory:a}=de(!0),c=C(g=>{var _;return(_=g.user.profile)==null?void 0:_.inventory}),i=C(g=>g.gameConfig.dailyStreak),l=C(g=>g.modals.dailyRewardModal),h=Number(n==null?void 0:n.totalStreak),p=!e&&!(n!=null&&n.reward),m=h>St?h-St+1:1,u=Array.from({length:p1},(g,_)=>m+_),x=g=>{if(!i||i.length===0)return{dayId:g,amount:0,type:"arrows"};const _=i.length;if(g>_)return i[_-1];const k=(g-1)%_;return i[k]},f=()=>{s(ss(!1))},v=()=>{if(!p){B.warn("Daily reward unavailable");return}if(r(),!c)return;const g={ducks:c.ducks,arrows:c.arrows+o,toncoins:c.toncoins};a(g)};return t.jsx(t.Fragment,{children:l&&t.jsxs("div",{className:z.dailyStreakWrapper,children:[t.jsxs("div",{className:z.topWrapper,children:[t.jsx("div",{className:z.closeButton,onClick:f,children:t.jsx(Kt,{})}),t.jsx("div",{className:z.topHeader,children:"Daily reward streaks"})]}),t.jsx("ul",{className:z.streaksList,children:u.map((g,_)=>{const k=g<h?z.past:g===h?z.active:z.future,{amount:I,type:S}=x(g);return m1(_,g,I,k,v)})})]})})},m1=(s,e,n,o,r)=>t.jsx("li",{className:Xe(z.streakFrameWrapper,o),style:{animationDelay:`${s*140}ms`},onClick:()=>{o===z.active&&r(e)},children:t.jsxs(ls,{className:z.streakFrame,children:[t.jsxs("span",{className:z.streakHeader,children:["Day ",X(e)]}),t.jsx("div",{className:z.streakIcon,children:t.jsx(oe,{})}),t.jsxs("span",{className:z.streakRewardText,children:[n," arrows"]})]})},e),f1="tasksPage__ntbck",x1="main__NC-xB",g1="langWrapper__b2Grc",v1="bounceIn__HL6eJ",_1="profileWrapper__-NVAJ",C1="background__7MPKX",w1="lists__tUFds",y1="listTitle__CmpRN",j1="list__w40lo",k1="item__6Ad1e",I1="taskTitle__iGaI9",b1="price__D4MYW",N1="btn__nEz8D",_e={tasksPage:f1,main:x1,langWrapper:g1,bounceIn:v1,profileWrapper:_1,background:C1,lists:w1,listTitle:y1,list:j1,item:k1,taskTitle:I1,price:b1,btn:N1},S1=()=>(U(),t.jsxs("div",{className:_e.tasksPage,children:[t.jsxs("div",{className:_e.main,children:[t.jsx(T1,{}),t.jsx(Ju,{})]}),t.jsx(h1,{})]})),T1=()=>t.jsxs(t.Fragment,{children:[t.jsx(Yt,{classname:_e.background}),t.jsx("div",{className:_e.langWrapper,children:t.jsx(ye,{})}),t.jsx("div",{className:_e.profileWrapper,children:t.jsx(je,{})})]}),B1=[{path:"/",element:t.jsx(Nt,{})},{path:"/index.html",element:t.jsx(Nt,{})},{path:"/frens",element:t.jsx(Xl,{})},{path:"/leaderboard",element:t.jsx(ju,{})},{path:"/tasks",element:t.jsx(S1,{})},{path:"/wallet",element:t.jsx(Gd,{})},{path:"/shop",element:t.jsx(cs,{})}],$1=()=>Bs(B1),L1="notifyToast__qmUY2",R1="notifyToastProgress__m1F4N",Tt={notifyToast:L1,"Toastify__toast-body":"Toastify__toast-body__gYkkX",notifyToastProgress:R1},P1=()=>t.jsx(Ss,{position:"top-right",autoClose:3e3,hideProgressBar:!1,toastClassName:Tt.notifyToast,progressClassName:Tt.notifyToastProgress,toastStyle:{fontFamily:"var(--main-font)",fontWeight:800},closeButton:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,draggable:!0,limit:3,theme:"light"}),H1={huntingResult:null},us=K({name:"notification",initialState:H1,reducers:{setHuntingResult:(s,e)=>{s.huntingResult=e.payload}}}),{setHuntingResult:ps}=us.actions,A1=us.reducer,D1="wrapper__fS-zv",M1="overlay__uxKuJ",U1="result__6Pnxe",F1="title__IzICH",E1="text__jKVMX",V1="btn__AxGHU",O1="results__b1pss",W1="duckIcon__umU91",q1="bowIcon__LbkJ-",Z1="expIcon__uMqCV",z1="item__SmhFr",J={wrapper:D1,overlay:M1,result:U1,title:F1,text:E1,btn:V1,results:O1,duckIcon:W1,bowIcon:q1,expIcon:Z1,item:z1},G1=()=>{const s=U(),e=C(a=>a.lang),n=C(a=>a.notification.huntingResult),o=()=>{s(ps(null))};if(n==null)return null;const r=t.jsx(pt,{children:t.jsxs("div",{className:J.wrapper,children:[t.jsx(Ce.div,{initial:{opacity:0},animate:{opacity:.45},exit:{opacity:0},className:J.overlay}),t.jsxs(Ce.div,{initial:{opacity:0,marginTop:-20},animate:{opacity:1,marginTop:0},exit:{opacity:0,marginTop:-20},className:J.result,children:[t.jsx("h1",{className:J.title,children:e.huntOverModal.title}),t.jsx("p",{className:J.text,children:e.huntOverModal.text}),t.jsxs("div",{className:J.results,children:[t.jsxs("div",{className:J.item,children:["+ ",n.ducks,t.jsx("div",{className:J.duckIcon,children:t.jsx(ue,{})})]}),t.jsxs("div",{className:J.item,children:["+ ",n.arrows,t.jsx("div",{className:J.bowIcon,children:t.jsx(oe,{})})]}),t.jsxs("div",{className:J.item,children:["+ ",n.ducks,t.jsx("span",{className:J.expIcon,children:"XP"})]})]}),t.jsx("button",{className:J.btn,onClick:o,children:e.huntOverModal.btn})]})]})});return gs.createPortal(r,document.body)},J1=()=>{const s=U(),{lastFinishedHunt:e}=xt(),{addNewProgress:n,addNewInventory:o}=de(!0),r=i=>{const l=i.huntResults;if(!l)return;const{collectedDucks:h,collectedExp:p,arrowsLeft:m}=l;s(ps({ducks:h,arrows:m,experience:p}))},a=i=>{const l=i.gameProgress;if(!l)return;const{level:h,experiencePoints:p,upgradePoints:m,currentLevelXP:u,nextLevelXP:x}=l;n({level:h,experiencePoints:p,upgradePoints:m,currentLevelXP:u,nextLevelXP:x})},c=i=>{const l=i.resourcesAmount;if(!l)return;const{ducks:h,arrows:p,toncoins:m}=l;o({ducks:h,arrows:p,toncoins:m})};return d.useEffect(()=>{!e||!(e!=null&&e.huntResults)||(r(e),c(e),a(e))},[e,s]),null},X1="app__JnT6l",K1="navigationBar__k1M1O",hs={app:X1,navigationBar:K1},Y1=()=>{const s=Lt();return t.jsxs(t.Fragment,{children:[Sc(s.pathname)&&t.jsx(yr,{}),t.jsx(G1,{}),t.jsx(J1,{}),t.jsx($1,{}),t.jsx(P1,{}),t.jsx("div",{className:hs.navigationBar,children:t.jsx(Fc,{})})]})},Q1=()=>{const[s,e]=d.useState(!1),[n,o]=d.useState(!1),[r,a]=d.useState(!1);le();const{accountStatus:c}=Us(),{isAuthenticated:i}=Ke(),{isProfileReady:l}=de(i),{isLoaded:h}=Ps(i),{activeHuntsRequested:p,activeHunts:m,loadActiveHunts:u}=Dt(i),{dailyStreakRequested:x,dailyStreak:f,loadActiveDailyReward:v}=Et(i),{isLeaderboardRequested:g,leaderboard:_,getLeaderboard:k}=Ye(i),S=!(c==="loading")&&i,w=S&&l&&h&&n&&r&&s,O="https://mrveit.github.io/Veittech-UnitonConnect/dAppData.json";return d.useEffect(()=>{if(!l||!S)return;!p&&!n&&u(),!x&&!r&&v(),!g&&!_&&k(),console.log("✅ Finalizing game init...");const G=setTimeout(()=>{e(!0)},1500);return()=>clearTimeout(G)},[l,S,p,n,x,f,g,_]),d.useEffect(()=>{p&&!n&&o(!0),x&&!r&&a(!0)},[p,n,x,r]),d.useEffect(()=>{w&&p&&x&&!n&&!r&&console.log("✅ Successful init, game launch...")},[w,p,x,f,m,n,r]),t.jsx("div",{className:hs.app,children:w?t.jsx(bs,{manifestUrl:O,restoreConnection:!0,actionsConfiguration:{modals:"all",notifications:"all",returnStrategy:"none"},children:t.jsx(en,{isAuthenticated:i,children:t.jsx(ln,{isAuthenticated:i,children:t.jsx(mn,{isAuthenticated:i,children:t.jsx(Y1,{})})})})}):t.jsx(Dr,{})})},ep="development",tp={status:"loading",roadmap:{id:"development",steps:[{id:1,title:"Loading...",status:"completed"},{id:2,title:"Loading...",status:"completed"},{id:3,title:"Loading...",status:"in-progress"},{id:4,title:"Loading...",status:"in-progress"},{id:5,title:"Loading...",status:"in-progress"},{id:6,title:"Loading...",status:"in-progress"}]}},at=P("roadmap/fetchRoadmap",async()=>{try{const e=(await H.get(A.getRoadmapPath(ep))).data;return console.log(`Loaded roadmap steps: ${JSON.stringify(e)}`),e.roadmap||null}catch(s){throw console.error(`Load roadmap failed, reason: ${s}`),new Error(`${s}`)}}),sp=K({name:"roadmap",initialState:tp,reducers:{},extraReducers:s=>{s.addCase(at.pending,e=>{e.status="loading"}).addCase(at.fulfilled,(e,n)=>{e.status="succeeded",e.roadmap=n.payload.roadmap}).addCase(at.rejected,e=>{e.status="failed"})}}),np=sp.reducer,op=Ns({reducer:{modals:Ur,user:Zs,lang:Qa,notification:A1,notificationBar:nn,roadmap:np,authUser:Ds,social:Js,gameConfig:Rs,huntSystem:Ys,dailySystem:an,tonModule:pn}});vs(document.getElementById("root")).render(t.jsx(js,{store:op,children:t.jsx(Cs,{basename:Nc("dev"),children:t.jsx(Q1,{})})}));
