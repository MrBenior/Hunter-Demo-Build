import{R as h,i as L}from"./react.bb2ac364.js";import{w as M}from"./use-sync-external-store.04ad0e3e.js";var s="default"in h?L:h,C=Symbol.for("react-redux-context"),w=typeof globalThis<"u"?globalThis:{};function T(){if(!s.createContext)return{};const e=w[C]??(w[C]=new Map);let r=e.get(s.createContext);return r||(r=s.createContext(null),e.set(s.createContext,r)),r}var c=T(),U=()=>{throw new Error("uSES not initialized!")};function x(e=c){return function(){return s.useContext(e)}}var R=x(),E=U,D=e=>{E=e},H=(e,r)=>e===r;function P(e=c){const r=e===c?R:x(e),t=(n,o={})=>{const{equalityFn:u=H,devModeChecks:a={}}=typeof o=="function"?{equalityFn:o}:o,{store:l,subscription:f,getServerState:i,stabilityCheck:b,identityFunctionCheck:p}=r();s.useRef(!0);const v=s.useCallback({[n.name](d){return n(d)}}[n.name],[n,b,a.stabilityCheck]),S=E(f.addNestedSub,l.getState,i||l.getState,v,u);return s.useDebugValue(S),S};return Object.assign(t,{withTypes:()=>t}),t}var F=P();function V(e){e()}function j(){let e=null,r=null;return{clear(){e=null,r=null},notify(){V(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const o=r={callback:t,next:null,prev:r};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var m={notify(){},get:()=>[]};function z(e,r){let t,n=m,o=0,u=!1;function a(y){b();const k=n.subscribe(y);let g=!1;return()=>{g||(g=!0,k(),p())}}function l(){n.notify()}function f(){d.onStateChange&&d.onStateChange()}function i(){return u}function b(){o++,t||(t=r?r.addNestedSub(f):e.subscribe(f),n=j())}function p(){o--,t&&o===0&&(t(),t=void 0,n.clear(),n=m)}function v(){u||(u=!0,b())}function S(){u&&(u=!1,p())}const d={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:f,isSubscribed:i,trySubscribe:v,tryUnsubscribe:S,getListeners:()=>n};return d}var W=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I=typeof navigator<"u"&&navigator.product==="ReactNative",q=W||I?s.useLayoutEffect:s.useEffect;function A({store:e,context:r,children:t,serverState:n,stabilityCheck:o="once",identityFunctionCheck:u="once"}){const a=s.useMemo(()=>{const i=z(e);return{store:e,subscription:i,getServerState:n?()=>n:void 0,stabilityCheck:o,identityFunctionCheck:u}},[e,n,o,u]),l=s.useMemo(()=>e.getState(),[e]);q(()=>{const{subscription:i}=a;return i.onStateChange=i.notifyNestedSubs,i.trySubscribe(),l!==e.getState()&&i.notifyNestedSubs(),()=>{i.tryUnsubscribe(),i.onStateChange=void 0}},[a,l]);const f=r||c;return s.createElement(f.Provider,{value:a},t)}var G=A;function N(e=c){const r=e===c?R:x(e),t=()=>{const{store:n}=r();return n};return Object.assign(t,{withTypes:()=>t}),t}var B=N();function K(e=c){const r=e===c?B:N(e),t=()=>r().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var J=K();D(M.useSyncExternalStoreWithSelector);export{G as P,J as a,F as u};
